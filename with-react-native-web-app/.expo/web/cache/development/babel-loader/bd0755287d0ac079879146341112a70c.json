{"ast":null,"code":"\"use strict\";\n\nvar _defineProperty2 = require(\"/Users/jun/Desktop/dev/react-practice/with-react-native-web-app/node_modules/next/dist/compiled/@babel/runtime/helpers/defineProperty\");\n\nvar _INITIAL_PROP_SPECIFI;\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.propsFlattener = exports.compareSpecificity = void 0;\n\nvar _lodash = _interopRequireDefault(require(\"lodash.merge\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar SPECIFICITY_1000 = 1000;\nvar SPECIFICITY_110 = 110;\nvar SPECIFICITY_100 = 100;\nvar SPECIFICITY_70 = 70;\nvar SPECIFICITY_60 = 60;\nvar SPECIFICITY_55 = 55;\nvar SPECIFICITY_50 = 50;\nvar SPECIFICITY_40 = 40;\nvar SPECIFICITY_30 = 30; // SPECIFICITY_20 is being user for defferentiating between User Props and Theme Props. So any specificity less than SPECIFICITY_20 will be ovridable by user props.\n\nvar SPECIFICITY_20 = 20;\nvar SPECIFICITY_10 = 10;\nvar specificityPrecedence = [SPECIFICITY_1000, SPECIFICITY_110, SPECIFICITY_100, SPECIFICITY_70, SPECIFICITY_60, SPECIFICITY_55, SPECIFICITY_50, SPECIFICITY_40, SPECIFICITY_30, SPECIFICITY_20, SPECIFICITY_10];\nvar INITIAL_PROP_SPECIFICITY = (_INITIAL_PROP_SPECIFI = {}, _defineProperty2(_INITIAL_PROP_SPECIFI, SPECIFICITY_1000, 0), _defineProperty2(_INITIAL_PROP_SPECIFI, SPECIFICITY_110, 0), _defineProperty2(_INITIAL_PROP_SPECIFI, SPECIFICITY_100, 0), _defineProperty2(_INITIAL_PROP_SPECIFI, SPECIFICITY_70, 0), _defineProperty2(_INITIAL_PROP_SPECIFI, SPECIFICITY_60, 0), _defineProperty2(_INITIAL_PROP_SPECIFI, SPECIFICITY_50, 0), _defineProperty2(_INITIAL_PROP_SPECIFI, SPECIFICITY_55, 0), _defineProperty2(_INITIAL_PROP_SPECIFI, SPECIFICITY_40, 0), _defineProperty2(_INITIAL_PROP_SPECIFI, SPECIFICITY_30, 0), _defineProperty2(_INITIAL_PROP_SPECIFI, SPECIFICITY_20, 0), _defineProperty2(_INITIAL_PROP_SPECIFI, SPECIFICITY_10, 0), _INITIAL_PROP_SPECIFI);\nvar pseudoPropsMap = {\n  _web: {\n    dependentOn: 'platform',\n    priority: SPECIFICITY_10\n  },\n  _ios: {\n    dependentOn: 'platform',\n    priority: SPECIFICITY_10\n  },\n  _android: {\n    dependentOn: 'platform',\n    priority: SPECIFICITY_10\n  },\n  _light: {\n    dependentOn: 'colormode',\n    priority: SPECIFICITY_10\n  },\n  _dark: {\n    dependentOn: 'colormode',\n    priority: SPECIFICITY_10\n  },\n  // TODO: have to add more interactionProps and stateProps\n  _indeterminate: {\n    dependentOn: 'state',\n    respondTo: 'isIndeterminate',\n    priority: SPECIFICITY_30\n  },\n  _checked: {\n    dependentOn: 'state',\n    respondTo: 'isChecked',\n    priority: SPECIFICITY_30\n  },\n  // Add new pseudeo props in between -------\n  _readOnly: {\n    dependentOn: 'state',\n    respondTo: 'isReadOnly',\n    priority: SPECIFICITY_30\n  },\n  // Add new pseudeo props in between -------\n  _invalid: {\n    dependentOn: 'state',\n    respondTo: 'isInvalid',\n    priority: SPECIFICITY_40\n  },\n  _focus: {\n    dependentOn: 'state',\n    respondTo: 'isFocused',\n    priority: SPECIFICITY_50\n  },\n  _focusVisible: {\n    dependentOn: 'state',\n    respondTo: 'isFocusVisible',\n    priority: SPECIFICITY_55\n  },\n  _hover: {\n    dependentOn: 'state',\n    respondTo: 'isHovered',\n    priority: SPECIFICITY_60\n  },\n  _pressed: {\n    dependentOn: 'state',\n    respondTo: 'isPressed',\n    priority: SPECIFICITY_70\n  },\n  _disabled: {\n    dependentOn: 'state',\n    respondTo: 'isDisabled',\n    priority: SPECIFICITY_100\n  },\n  _loading: {\n    dependentOn: 'state',\n    respondTo: 'isLoading',\n    priority: SPECIFICITY_110\n  },\n  _important: {\n    dependentOn: null,\n    priority: SPECIFICITY_1000\n  }\n};\n\nvar compareSpecificity = function compareSpecificity(exisiting, upcoming, ignorebaseTheme) // property?: any\n{\n  if (!exisiting) return true;\n  if (!upcoming) return false;\n  var condition = ignorebaseTheme ? specificityPrecedence.length - 1 : specificityPrecedence.length;\n\n  for (var index = 0; index < condition; index++) {\n    if (exisiting[specificityPrecedence[index]] > upcoming[specificityPrecedence[index]]) {\n      return false;\n    } else if (exisiting[specificityPrecedence[index]] < upcoming[specificityPrecedence[index]]) {\n      return true;\n    }\n  }\n\n  return true;\n};\n\nexports.compareSpecificity = compareSpecificity;\n\nvar shouldResolvePseudoProp = function shouldResolvePseudoProp(_ref) {\n  var property = _ref.property,\n      state = _ref.state,\n      platform = _ref.platform,\n      colormode = _ref.colormode;\n\n  if (pseudoPropsMap[property].dependentOn === 'platform') {\n    return property === \"_\".concat(platform);\n  } else if (pseudoPropsMap[property].dependentOn === 'colormode') {\n    return property === \"_\".concat(colormode);\n  } else if (pseudoPropsMap[property].dependentOn === 'state') {\n    // @ts-ignore\n    return state[pseudoPropsMap[property].respondTo];\n  } else if (pseudoPropsMap[property].dependentOn === null) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nvar simplifyProps = function simplifyProps(_ref2) {\n  var props = _ref2.props,\n      colormode = _ref2.colormode,\n      platform = _ref2.platform,\n      state = _ref2.state,\n      currentSpecificity = _ref2.currentSpecificity,\n      previouslyFlattenProps = _ref2.previouslyFlattenProps,\n      cascadePseudoProps = _ref2.cascadePseudoProps;\n  var flattenProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var specificityMap = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var priority = arguments.length > 3 ? arguments[3] : undefined;\n\n  var mergePsuedoProps = function mergePsuedoProps(property, propertySpecity) {\n    if (compareSpecificity(specificityMap[property], propertySpecity, false)) {\n      if (true && props.debug) {\n        /* eslint-disable-next-line */\n        console.log(\"%c \".concat(property), 'color: #818cf8;', 'updated as internal prop with higher specificity');\n      }\n\n      specificityMap[property] = propertySpecity; // merging internal props (like, _text, _stack ...)\n\n      flattenProps[property] = (0, _lodash[\"default\"])({}, flattenProps[property], props[property]);\n    } else {\n      if (true && props.debug) {\n        /* eslint-disable-next-line */\n        console.log(\"%c \".concat(property), 'color: #818cf8;', 'updated as internal prop with lower specificity');\n      }\n\n      flattenProps[property] = (0, _lodash[\"default\"])({}, props[property], flattenProps[property]);\n    }\n  };\n\n  for (var property in props) {\n    var _pseudoPropsMap$prope; // NOTE: the order is important here. Keep in mind while specificity breakpoints.\n\n\n    var propertySpecity = currentSpecificity ? _objectSpread({}, currentSpecificity) : _objectSpread(_objectSpread({}, INITIAL_PROP_SPECIFICITY), {}, _defineProperty2({}, SPECIFICITY_20, priority));\n\n    if ( // @ts-ignore\n    state[(_pseudoPropsMap$prope = pseudoPropsMap[property]) === null || _pseudoPropsMap$prope === void 0 ? void 0 : _pseudoPropsMap$prope.respondTo] || ['_dark', '_light', '_web', '_ios', '_android', '_important'].includes(property)) {\n      // @ts-ignore\n      if (shouldResolvePseudoProp({\n        property: property,\n        state: state,\n        platform: platform,\n        colormode: colormode\n      })) {\n        // NOTE: Handling (state driven) props like _important, _web, _ios, _android, _dark, _light, _disabled, _focus, _focusVisible, _hover, _pressed, _readOnly, _invalid, .... Only when they are true.\n        if (true && props.debug) {\n          /* eslint-disable-next-line */\n          console.log(\"%c \".concat(property), 'color: #818cf8;', 'recursively resolving');\n        } // @ts-ignore\n\n\n        propertySpecity[pseudoPropsMap[property].priority]++;\n        simplifyProps({\n          props: props[property],\n          colormode: colormode,\n          platform: platform,\n          state: state,\n          currentSpecificity: propertySpecity,\n          previouslyFlattenProps: previouslyFlattenProps,\n          cascadePseudoProps: cascadePseudoProps\n        }, flattenProps, specificityMap, priority);\n      } // @ts-ignore\n\n    } else if (pseudoPropsMap[property] === undefined) {\n      if (property.startsWith('_')) {\n        // NOTE: Handling (internal) props like _text, _stack, ....\n        mergePsuedoProps(property, propertySpecity);\n      } else {\n        if (compareSpecificity(specificityMap[property], propertySpecity, false)) {\n          if (true && props.debug) {\n            /* eslint-disable-next-line */\n            console.log(\"%c \".concat(property), 'color: #818cf8;', 'updated as simple prop');\n          }\n\n          specificityMap[property] = propertySpecity; // replacing simple props (like, p, m, bg, color, ...)\n\n          flattenProps[property] = props[property];\n        } else {\n          if (true && props.debug) {\n            /* eslint-disable-next-line */\n            console.log(\"%c \".concat(property), 'color: #818cf8;', 'ignored');\n          }\n        }\n      }\n    } else {\n      // Can delete unused props\n      if (!cascadePseudoProps) {\n        delete flattenProps[property];\n\n        if (true && props.debug) {\n          /* eslint-disable-next-line */\n          console.log(\"%c \".concat(property), 'color: #818cf8;', 'deleted');\n        }\n      } else {\n        if (true && props.debug) {\n          /* eslint-disable-next-line */\n          console.log(\"%c \".concat(property), 'color: #818cf8;', 'cascaded');\n        }\n\n        mergePsuedoProps(property, propertySpecity);\n      }\n    }\n  }\n};\n\nvar propsFlattener = function propsFlattener(_ref3, priority) {\n  var props = _ref3.props,\n      colormode = _ref3.colormode,\n      platform = _ref3.platform,\n      state = _ref3.state,\n      currentSpecificityMap = _ref3.currentSpecificityMap,\n      previouslyFlattenProps = _ref3.previouslyFlattenProps,\n      cascadePseudoProps = _ref3.cascadePseudoProps;\n  var flattenProps = {};\n\n  for (var property in props) {\n    var _pseudoPropsMap$prope2;\n\n    if ( // @ts-ignore\n    state[(_pseudoPropsMap$prope2 = pseudoPropsMap[property]) === null || _pseudoPropsMap$prope2 === void 0 ? void 0 : _pseudoPropsMap$prope2.respondTo] === undefined && property.startsWith('_')) {\n      flattenProps[property] = previouslyFlattenProps[property];\n    }\n  }\n\n  var specificityMap = currentSpecificityMap || {};\n  simplifyProps({\n    props: props,\n    colormode: colormode,\n    platform: platform,\n    state: state,\n    currentSpecificityMap: currentSpecificityMap,\n    previouslyFlattenProps: previouslyFlattenProps,\n    cascadePseudoProps: cascadePseudoProps\n  }, flattenProps, specificityMap, priority);\n  return [flattenProps, specificityMap];\n};\n\nexports.propsFlattener = propsFlattener;","map":{"version":3,"sources":["/Users/jun/Desktop/dev/react-practice/with-react-native-web-app/node_modules/native-base/lib/commonjs/hooks/useThemeProps/propsFlattener.js"],"names":["Object","value","exports","_lodash","_interopRequireDefault","require","obj","default","SPECIFICITY_1000","SPECIFICITY_110","SPECIFICITY_100","SPECIFICITY_70","SPECIFICITY_60","SPECIFICITY_55","SPECIFICITY_50","SPECIFICITY_40","SPECIFICITY_30","SPECIFICITY_20","SPECIFICITY_10","specificityPrecedence","INITIAL_PROP_SPECIFICITY","pseudoPropsMap","_web","dependentOn","priority","_ios","_android","_light","_dark","_indeterminate","respondTo","_checked","_readOnly","_invalid","_focus","_focusVisible","_hover","_pressed","_disabled","_loading","_important","compareSpecificity","condition","ignorebaseTheme","index","exisiting","upcoming","shouldResolvePseudoProp","colormode","property","state","simplifyProps","cascadePseudoProps","flattenProps","specificityMap","mergePsuedoProps","props","console","propertySpecity","currentSpecificity","_pseudoPropsMap$prope","platform","previouslyFlattenProps","propsFlattener","_pseudoPropsMap$prope2","currentSpecificityMap"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEAA,MAAM,CAANA,cAAAA,CAAAA,OAAAA,EAAAA,YAAAA,EAA6C;EAC3CC,KAAK,EAAE;AADoC,CAA7CD;AAGAE,OAAO,CAAPA,cAAAA,GAAyBA,OAAO,CAAPA,kBAAAA,GAA6B,KAAtDA,CAAAA;;AAEA,IAAIC,OAAO,GAAGC,sBAAsB,CAACC,OAAO,CAA5C,cAA4C,CAAR,CAApC;;AAEA,SAAA,sBAAA,CAAA,GAAA,EAAqC;EAAE,OAAOC,GAAG,IAAIA,GAAG,CAAVA,UAAAA,GAAAA,GAAAA,GAA8B;IAAEC,WAASD;EAAX,CAArC;AAAwD;;AAE/F,IAAME,gBAAgB,GAAtB,IAAA;AACA,IAAMC,eAAe,GAArB,GAAA;AACA,IAAMC,eAAe,GAArB,GAAA;AACA,IAAMC,cAAc,GAApB,EAAA;AACA,IAAMC,cAAc,GAApB,EAAA;AACA,IAAMC,cAAc,GAApB,EAAA;AACA,IAAMC,cAAc,GAApB,EAAA;AACA,IAAMC,cAAc,GAApB,EAAA;AACA,IAAMC,cAAc,GAApB,EAAA,C,CAA2B;;AAE3B,IAAMC,cAAc,GAApB,EAAA;AACA,IAAMC,cAAc,GAApB,EAAA;AACA,IAAMC,qBAAqB,GAAG,CAAA,gBAAA,EAAA,eAAA,EAAA,eAAA,EAAA,cAAA,EAAA,cAAA,EAAA,cAAA,EAAA,cAAA,EAAA,cAAA,EAAA,cAAA,EAAA,cAAA,EAA9B,cAA8B,CAA9B;AACA,IAAMC,wBAAwB,wEAC5B,gBAD4B,EAAG,CAAH,2CAE5B,eAF4B,EAAG,CAAH,2CAG5B,eAH4B,EAAG,CAAH,2CAI5B,cAJ4B,EAAG,CAAH,2CAK5B,cAL4B,EAAG,CAAH,2CAM5B,cAN4B,EAAG,CAAH,2CAO5B,cAP4B,EAAG,CAAH,2CAQ5B,cAR4B,EAAG,CAAH,2CAS5B,cAT4B,EAAG,CAAH,2CAU5B,cAV4B,EAAG,CAAH,2CAW5B,cAX4B,EAWV,CAXU,yBAA9B;AAaA,IAAMC,cAAc,GAAG;EACrBC,IAAI,EAAE;IACJC,WAAW,EADP,UAAA;IAEJC,QAAQ,EAAEN;EAFN,CADe;EAKrBO,IAAI,EAAE;IACJF,WAAW,EADP,UAAA;IAEJC,QAAQ,EAAEN;EAFN,CALe;EASrBQ,QAAQ,EAAE;IACRH,WAAW,EADH,UAAA;IAERC,QAAQ,EAAEN;EAFF,CATW;EAarBS,MAAM,EAAE;IACNJ,WAAW,EADL,WAAA;IAENC,QAAQ,EAAEN;EAFJ,CAba;EAiBrBU,KAAK,EAAE;IACLL,WAAW,EADN,WAAA;IAELC,QAAQ,EAAEN;EAFL,CAjBc;EAqBrB;EACAW,cAAc,EAAE;IACdN,WAAW,EADG,OAAA;IAEdO,SAAS,EAFK,iBAAA;IAGdN,QAAQ,EAAER;EAHI,CAtBK;EA2BrBe,QAAQ,EAAE;IACRR,WAAW,EADH,OAAA;IAERO,SAAS,EAFD,WAAA;IAGRN,QAAQ,EAAER;EAHF,CA3BW;EAgCrB;EACAgB,SAAS,EAAE;IACTT,WAAW,EADF,OAAA;IAETO,SAAS,EAFA,YAAA;IAGTN,QAAQ,EAAER;EAHD,CAjCU;EAsCrB;EACAiB,QAAQ,EAAE;IACRV,WAAW,EADH,OAAA;IAERO,SAAS,EAFD,WAAA;IAGRN,QAAQ,EAAET;EAHF,CAvCW;EA4CrBmB,MAAM,EAAE;IACNX,WAAW,EADL,OAAA;IAENO,SAAS,EAFH,WAAA;IAGNN,QAAQ,EAAEV;EAHJ,CA5Ca;EAiDrBqB,aAAa,EAAE;IACbZ,WAAW,EADE,OAAA;IAEbO,SAAS,EAFI,gBAAA;IAGbN,QAAQ,EAAEX;EAHG,CAjDM;EAsDrBuB,MAAM,EAAE;IACNb,WAAW,EADL,OAAA;IAENO,SAAS,EAFH,WAAA;IAGNN,QAAQ,EAAEZ;EAHJ,CAtDa;EA2DrByB,QAAQ,EAAE;IACRd,WAAW,EADH,OAAA;IAERO,SAAS,EAFD,WAAA;IAGRN,QAAQ,EAAEb;EAHF,CA3DW;EAgErB2B,SAAS,EAAE;IACTf,WAAW,EADF,OAAA;IAETO,SAAS,EAFA,YAAA;IAGTN,QAAQ,EAAEd;EAHD,CAhEU;EAqErB6B,QAAQ,EAAE;IACRhB,WAAW,EADH,OAAA;IAERO,SAAS,EAFD,WAAA;IAGRN,QAAQ,EAAEf;EAHF,CArEW;EA0ErB+B,UAAU,EAAE;IACVjB,WAAW,EADD,IAAA;IAEVC,QAAQ,EAAEhB;EAFA;AA1ES,CAAvB;;AAgFA,IAAMiC,kBAAkB,GAAG,SAArBA,kBAAqB,CAAA,SAAA,EAAA,QAAA,EAAA,eAAA,EAA0C;AACrE;EACE,IAAI,CAAJ,SAAA,EAAgB,OAAA,IAAA;EAChB,IAAI,CAAJ,QAAA,EAAe,OAAA,KAAA;EACf,IAAMC,SAAS,GAAGC,eAAe,GAAGxB,qBAAqB,CAArBA,MAAAA,GAAH,CAAA,GAAsCA,qBAAqB,CAA5F,MAAA;;EAEA,KAAK,IAAIyB,KAAK,GAAd,CAAA,EAAoBA,KAAK,GAAzB,SAAA,EAAuCA,KAAvC,EAAA,EAAgD;IAC9C,IAAIC,SAAS,CAAC1B,qBAAqB,CAA/B0B,KAA+B,CAAtB,CAATA,GAA0CC,QAAQ,CAAC3B,qBAAqB,CAA5E,KAA4E,CAAtB,CAAtD,EAAsF;MACpF,OAAA,KAAA;IADF,CAAA,MAEO,IAAI0B,SAAS,CAAC1B,qBAAqB,CAA/B0B,KAA+B,CAAtB,CAATA,GAA0CC,QAAQ,CAAC3B,qBAAqB,CAA5E,KAA4E,CAAtB,CAAtD,EAAsF;MAC3F,OAAA,IAAA;IACD;EACF;;EAED,OAAA,IAAA;AAdF,CAAA;;AAiBAjB,OAAO,CAAPA,kBAAAA,GAAAA,kBAAAA;;AAEA,IAAM6C,uBAAuB,GAAG,SAA1BA,uBAA0B,OAK1B;EAAA,IAL2B,QAK3B,QAL2B,QAK3B;EAAA,IAL2B,KAK3B,QAL2B,KAK3B;EAAA,IAL2B,QAK3B,QAL2B,QAK3B;EAAA,IADJC,SACI,QADJA,SACI;;EACJ,IAAI3B,cAAc,CAAdA,QAAc,CAAdA,CAAAA,WAAAA,KAAJ,UAAA,EAAyD;IACvD,OAAO4B,QAAQ,KAAK,IAAA,MAAA,CAApB,QAAoB,CAApB;EADF,CAAA,MAEO,IAAI5B,cAAc,CAAdA,QAAc,CAAdA,CAAAA,WAAAA,KAAJ,WAAA,EAA0D;IAC/D,OAAO4B,QAAQ,KAAK,IAAA,MAAA,CAApB,SAAoB,CAApB;EADK,CAAA,MAEA,IAAI5B,cAAc,CAAdA,QAAc,CAAdA,CAAAA,WAAAA,KAAJ,OAAA,EAAsD;IAC3D;IACA,OAAO6B,KAAK,CAAC7B,cAAc,CAAdA,QAAc,CAAdA,CAAb,SAAY,CAAZ;EAFK,CAAA,MAGA,IAAIA,cAAc,CAAdA,QAAc,CAAdA,CAAAA,WAAAA,KAAJ,IAAA,EAAmD;IACxD,OAAA,IAAA;EADK,CAAA,MAEA;IACL,OAAA,KAAA;EACD;AAjBH,CAAA;;AAoBA,IAAM8B,aAAa,GAAG,SAAhBA,aAAgB,QAQkC;EAAA,IARjC,KAQiC,SARjC,KAQiC;EAAA,IARjC,SAQiC,SARjC,SAQiC;EAAA,IARjC,QAQiC,SARjC,QAQiC;EAAA,IARjC,KAQiC,SARjC,KAQiC;EAAA,IARjC,kBAQiC,SARjC,kBAQiC;EAAA,IARjC,sBAQiC,SARjC,sBAQiC;EAAA,IADtDC,kBACsD,SADtDA,kBACsD;EAAA,IAArDC,YAAqD,uEARlC,EAQkC;EAAA,IAAlCC,cAAkC,uEARlC,EAQkC;EAAA,IARlC,QAQkC;;EACtD,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAA,QAAA,EAAA,eAAA,EAA+B;IACtD,IAAId,kBAAkB,CAACa,cAAc,CAAf,QAAe,CAAf,EAAA,eAAA,EAAtB,KAAsB,CAAtB,EAA0E;MACxE,IAAI,QAA0CE,KAAK,CAAnD,KAAA,EAA2D;QACzD;QACAC,OAAO,CAAPA,GAAAA,CAAY,MAAA,MAAA,CAAZA,QAAY,CAAZA,EAAAA,iBAAAA,EAAAA,kDAAAA;MACD;;MAEDH,cAAc,CAAdA,QAAc,CAAdA,GANwE,eAMxEA,CANwE,CAM5B;;MAE5CD,YAAY,CAAZA,QAAY,CAAZA,GAAyB,CAAC,GAAGlD,OAAJ,WAAA,EAAA,EAAA,EAAyBkD,YAAY,CAArC,QAAqC,CAArC,EAAiDG,KAAK,CAA/EH,QAA+E,CAAtD,CAAzBA;IARF,CAAA,MASO;MACL,IAAI,QAA0CG,KAAK,CAAnD,KAAA,EAA2D;QACzD;QACAC,OAAO,CAAPA,GAAAA,CAAY,MAAA,MAAA,CAAZA,QAAY,CAAZA,EAAAA,iBAAAA,EAAAA,iDAAAA;MACD;;MAEDJ,YAAY,CAAZA,QAAY,CAAZA,GAAyB,CAAC,GAAGlD,OAAJ,WAAA,EAAA,EAAA,EAAyBqD,KAAK,CAA9B,QAA8B,CAA9B,EAA0CH,YAAY,CAA/EA,QAA+E,CAAtD,CAAzBA;IACD;EAjBH,CAAA;;EAoBA,KAAK,IAAL,QAAA,IAAA,KAAA,EAA8B;IAC5B,IAD4B,qBAC5B,CAD4B,CAG5B;;;IACA,IAAMK,eAAe,GAAGC,kBAAkB,GAAA,aAAA,CAAA,EAAA,EAAA,kBAAA,CAAA,GAAA,aAAA,CAAA,aAAA,CAAA,EAAA,EAAA,wBAAA,CAAA,EAAA,EAAA,uBAExC,cAFwC,EAEtBnC,QAFsB,EAA1C;;IAKA,KAAK;IACL0B,KAAK,CAAC,CAACU,qBAAqB,GAAGvC,cAAc,CAAvC,QAAuC,CAAvC,MAAA,IAAA,IAA+DuC,qBAAqB,KAAK,KAAzF,CAAA,GAAkG,KAAlG,CAAA,GAA2GA,qBAAqB,CAAtIV,SAAK,CAALA,IAAqJ,CAAA,OAAA,EAAA,QAAA,EAAA,MAAA,EAAA,MAAA,EAAA,UAAA,EAAA,YAAA,EAAA,QAAA,CADrJ,QACqJ,CADrJ,EACuO;MACrO;MACA,IAAIH,uBAAuB,CAAC;QAC1BE,QAD0B,EAC1BA,QAD0B;QAE1BC,KAF0B,EAE1BA,KAF0B;QAG1BW,QAH0B,EAG1BA,QAH0B;QAI1Bb,SAAAA,EAAAA;MAJ0B,CAAD,CAA3B,EAKI;QACF;QACA,IAAI,QAA0CQ,KAAK,CAAnD,KAAA,EAA2D;UACzD;UACAC,OAAO,CAAPA,GAAAA,CAAY,MAAA,MAAA,CAAZA,QAAY,CAAZA,EAAAA,iBAAAA,EAAAA,uBAAAA;QAJA,CAAA,CAKA;;;QAGFC,eAAe,CAACrC,cAAc,CAAdA,QAAc,CAAdA,CAAhBqC,QAAe,CAAfA;QACAP,aAAa,CAAC;UACZK,KAAK,EAAEA,KAAK,CADA,QACA,CADA;UAEZR,SAFY,EAEZA,SAFY;UAGZa,QAHY,EAGZA,QAHY;UAIZX,KAJY,EAIZA,KAJY;UAKZS,kBAAkB,EALN,eAAA;UAMZG,sBAAsB,EANV,sBAAA;UAOZV,kBAAAA,EAAAA;QAPY,CAAD,EAAA,YAAA,EAAA,cAAA,EAAbD,QAAa,CAAbA;MAhBmO,CAAA,CAyBnO;;IA1BJ,CAAA,MA4BO,IAAI9B,cAAc,CAAdA,QAAc,CAAdA,KAAJ,SAAA,EAA4C;MACjD,IAAI4B,QAAQ,CAARA,UAAAA,CAAJ,GAAIA,CAAJ,EAA8B;QAC5B;QACAM,gBAAgB,CAAA,QAAA,EAAhBA,eAAgB,CAAhBA;MAFF,CAAA,MAGO;QACL,IAAId,kBAAkB,CAACa,cAAc,CAAf,QAAe,CAAf,EAAA,eAAA,EAAtB,KAAsB,CAAtB,EAA0E;UACxE,IAAI,QAA0CE,KAAK,CAAnD,KAAA,EAA2D;YACzD;YACAC,OAAO,CAAPA,GAAAA,CAAY,MAAA,MAAA,CAAZA,QAAY,CAAZA,EAAAA,iBAAAA,EAAAA,wBAAAA;UACD;;UAEDH,cAAc,CAAdA,QAAc,CAAdA,GANwE,eAMxEA,CANwE,CAM5B;;UAE5CD,YAAY,CAAZA,QAAY,CAAZA,GAAyBG,KAAK,CAA9BH,QAA8B,CAA9BA;QARF,CAAA,MASO;UACL,IAAI,QAA0CG,KAAK,CAAnD,KAAA,EAA2D;YACzD;YACAC,OAAO,CAAPA,GAAAA,CAAY,MAAA,MAAA,CAAZA,QAAY,CAAZA,EAAAA,iBAAAA,EAAAA,SAAAA;UACD;QACF;MACF;IApBI,CAAA,MAqBA;MACL;MACA,IAAI,CAAJ,kBAAA,EAAyB;QACvB,OAAOJ,YAAY,CAAnB,QAAmB,CAAnB;;QAEA,IAAI,QAA0CG,KAAK,CAAnD,KAAA,EAA2D;UACzD;UACAC,OAAO,CAAPA,GAAAA,CAAY,MAAA,MAAA,CAAZA,QAAY,CAAZA,EAAAA,iBAAAA,EAAAA,SAAAA;QACD;MANH,CAAA,MAOO;QACL,IAAI,QAA0CD,KAAK,CAAnD,KAAA,EAA2D;UACzD;UACAC,OAAO,CAAPA,GAAAA,CAAY,MAAA,MAAA,CAAZA,QAAY,CAAZA,EAAAA,iBAAAA,EAAAA,UAAAA;QACD;;QAEDF,gBAAgB,CAAA,QAAA,EAAhBA,eAAgB,CAAhBA;MACD;IACF;EACF;AAzGH,CAAA;;AA4GA,IAAMQ,cAAc,GAAG,SAAjBA,cAAiB,QAAA,QAAA,EAQP;EAAA,IARQ,KAQR,SARQ,KAQR;EAAA,IARQ,SAQR,SARQ,SAQR;EAAA,IARQ,QAQR,SARQ,QAQR;EAAA,IARQ,KAQR,SARQ,KAQR;EAAA,IARQ,qBAQR,SARQ,qBAQR;EAAA,IARQ,sBAQR,SARQ,sBAQR;EAAA,IADdX,kBACc,SADdA,kBACc;EACd,IAAMC,YAAY,GAAlB,EAAA;;EAEA,KAAK,IAAL,QAAA,IAAA,KAAA,EAA8B;IAC5B,IAAA,sBAAA;;IAEA,KAAK;IACLH,KAAK,CAAC,CAACc,sBAAsB,GAAG3C,cAAc,CAAxC,QAAwC,CAAxC,MAAA,IAAA,IAAgE2C,sBAAsB,KAAK,KAA3F,CAAA,GAAoG,KAApG,CAAA,GAA6GA,sBAAsB,CAAzId,SAAK,CAALA,KAAAA,SAAAA,IAAsKD,QAAQ,CAARA,UAAAA,CADtK,GACsKA,CADtK,EACgM;MAC9LI,YAAY,CAAZA,QAAY,CAAZA,GAAyBS,sBAAsB,CAA/CT,QAA+C,CAA/CA;IACD;EACF;;EAED,IAAMC,cAAc,GAAGW,qBAAqB,IAA5C,EAAA;EACAd,aAAa,CAAC;IACZK,KADY,EACZA,KADY;IAEZR,SAFY,EAEZA,SAFY;IAGZa,QAHY,EAGZA,QAHY;IAIZX,KAJY,EAIZA,KAJY;IAKZe,qBALY,EAKZA,qBALY;IAMZH,sBANY,EAMZA,sBANY;IAOZV,kBAAAA,EAAAA;EAPY,CAAD,EAAA,YAAA,EAAA,cAAA,EAAbD,QAAa,CAAbA;EASA,OAAO,CAAA,YAAA,EAAP,cAAO,CAAP;AA9BF,CAAA;;AAiCAjD,OAAO,CAAPA,cAAAA,GAAAA,cAAAA","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.propsFlattener = exports.compareSpecificity = void 0;\n\nvar _lodash = _interopRequireDefault(require(\"lodash.merge\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst SPECIFICITY_1000 = 1000;\nconst SPECIFICITY_110 = 110;\nconst SPECIFICITY_100 = 100;\nconst SPECIFICITY_70 = 70;\nconst SPECIFICITY_60 = 60;\nconst SPECIFICITY_55 = 55;\nconst SPECIFICITY_50 = 50;\nconst SPECIFICITY_40 = 40;\nconst SPECIFICITY_30 = 30; // SPECIFICITY_20 is being user for defferentiating between User Props and Theme Props. So any specificity less than SPECIFICITY_20 will be ovridable by user props.\n\nconst SPECIFICITY_20 = 20;\nconst SPECIFICITY_10 = 10;\nconst specificityPrecedence = [SPECIFICITY_1000, SPECIFICITY_110, SPECIFICITY_100, SPECIFICITY_70, SPECIFICITY_60, SPECIFICITY_55, SPECIFICITY_50, SPECIFICITY_40, SPECIFICITY_30, SPECIFICITY_20, SPECIFICITY_10];\nconst INITIAL_PROP_SPECIFICITY = {\n  [SPECIFICITY_1000]: 0,\n  [SPECIFICITY_110]: 0,\n  [SPECIFICITY_100]: 0,\n  [SPECIFICITY_70]: 0,\n  [SPECIFICITY_60]: 0,\n  [SPECIFICITY_50]: 0,\n  [SPECIFICITY_55]: 0,\n  [SPECIFICITY_40]: 0,\n  [SPECIFICITY_30]: 0,\n  [SPECIFICITY_20]: 0,\n  [SPECIFICITY_10]: 0\n};\nconst pseudoPropsMap = {\n  _web: {\n    dependentOn: 'platform',\n    priority: SPECIFICITY_10\n  },\n  _ios: {\n    dependentOn: 'platform',\n    priority: SPECIFICITY_10\n  },\n  _android: {\n    dependentOn: 'platform',\n    priority: SPECIFICITY_10\n  },\n  _light: {\n    dependentOn: 'colormode',\n    priority: SPECIFICITY_10\n  },\n  _dark: {\n    dependentOn: 'colormode',\n    priority: SPECIFICITY_10\n  },\n  // TODO: have to add more interactionProps and stateProps\n  _indeterminate: {\n    dependentOn: 'state',\n    respondTo: 'isIndeterminate',\n    priority: SPECIFICITY_30\n  },\n  _checked: {\n    dependentOn: 'state',\n    respondTo: 'isChecked',\n    priority: SPECIFICITY_30\n  },\n  // Add new pseudeo props in between -------\n  _readOnly: {\n    dependentOn: 'state',\n    respondTo: 'isReadOnly',\n    priority: SPECIFICITY_30\n  },\n  // Add new pseudeo props in between -------\n  _invalid: {\n    dependentOn: 'state',\n    respondTo: 'isInvalid',\n    priority: SPECIFICITY_40\n  },\n  _focus: {\n    dependentOn: 'state',\n    respondTo: 'isFocused',\n    priority: SPECIFICITY_50\n  },\n  _focusVisible: {\n    dependentOn: 'state',\n    respondTo: 'isFocusVisible',\n    priority: SPECIFICITY_55\n  },\n  _hover: {\n    dependentOn: 'state',\n    respondTo: 'isHovered',\n    priority: SPECIFICITY_60\n  },\n  _pressed: {\n    dependentOn: 'state',\n    respondTo: 'isPressed',\n    priority: SPECIFICITY_70\n  },\n  _disabled: {\n    dependentOn: 'state',\n    respondTo: 'isDisabled',\n    priority: SPECIFICITY_100\n  },\n  _loading: {\n    dependentOn: 'state',\n    respondTo: 'isLoading',\n    priority: SPECIFICITY_110\n  },\n  _important: {\n    dependentOn: null,\n    priority: SPECIFICITY_1000\n  }\n};\n\nconst compareSpecificity = (exisiting, upcoming, ignorebaseTheme) => // property?: any\n{\n  if (!exisiting) return true;\n  if (!upcoming) return false;\n  const condition = ignorebaseTheme ? specificityPrecedence.length - 1 : specificityPrecedence.length;\n\n  for (let index = 0; index < condition; index++) {\n    if (exisiting[specificityPrecedence[index]] > upcoming[specificityPrecedence[index]]) {\n      return false;\n    } else if (exisiting[specificityPrecedence[index]] < upcoming[specificityPrecedence[index]]) {\n      return true;\n    }\n  }\n\n  return true;\n};\n\nexports.compareSpecificity = compareSpecificity;\n\nconst shouldResolvePseudoProp = ({\n  property,\n  state,\n  platform,\n  colormode\n}) => {\n  if (pseudoPropsMap[property].dependentOn === 'platform') {\n    return property === \"_\".concat(platform);\n  } else if (pseudoPropsMap[property].dependentOn === 'colormode') {\n    return property === \"_\".concat(colormode);\n  } else if (pseudoPropsMap[property].dependentOn === 'state') {\n    // @ts-ignore\n    return state[pseudoPropsMap[property].respondTo];\n  } else if (pseudoPropsMap[property].dependentOn === null) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nconst simplifyProps = ({\n  props,\n  colormode,\n  platform,\n  state,\n  currentSpecificity,\n  previouslyFlattenProps,\n  cascadePseudoProps\n}, flattenProps = {}, specificityMap = {}, priority) => {\n  const mergePsuedoProps = (property, propertySpecity) => {\n    if (compareSpecificity(specificityMap[property], propertySpecity, false)) {\n      if (process.env.NODE_ENV === 'development' && props.debug) {\n        /* eslint-disable-next-line */\n        console.log(\"%c \".concat(property), 'color: #818cf8;', 'updated as internal prop with higher specificity');\n      }\n\n      specificityMap[property] = propertySpecity; // merging internal props (like, _text, _stack ...)\n\n      flattenProps[property] = (0, _lodash.default)({}, flattenProps[property], props[property]);\n    } else {\n      if (process.env.NODE_ENV === 'development' && props.debug) {\n        /* eslint-disable-next-line */\n        console.log(\"%c \".concat(property), 'color: #818cf8;', 'updated as internal prop with lower specificity');\n      }\n\n      flattenProps[property] = (0, _lodash.default)({}, props[property], flattenProps[property]);\n    }\n  };\n\n  for (const property in props) {\n    var _pseudoPropsMap$prope;\n\n    // NOTE: the order is important here. Keep in mind while specificity breakpoints.\n    const propertySpecity = currentSpecificity ? { ...currentSpecificity\n    } : { ...INITIAL_PROP_SPECIFICITY,\n      [SPECIFICITY_20]: priority\n    };\n\n    if ( // @ts-ignore\n    state[(_pseudoPropsMap$prope = pseudoPropsMap[property]) === null || _pseudoPropsMap$prope === void 0 ? void 0 : _pseudoPropsMap$prope.respondTo] || ['_dark', '_light', '_web', '_ios', '_android', '_important'].includes(property)) {\n      // @ts-ignore\n      if (shouldResolvePseudoProp({\n        property,\n        state,\n        platform,\n        colormode\n      })) {\n        // NOTE: Handling (state driven) props like _important, _web, _ios, _android, _dark, _light, _disabled, _focus, _focusVisible, _hover, _pressed, _readOnly, _invalid, .... Only when they are true.\n        if (process.env.NODE_ENV === 'development' && props.debug) {\n          /* eslint-disable-next-line */\n          console.log(\"%c \".concat(property), 'color: #818cf8;', 'recursively resolving');\n        } // @ts-ignore\n\n\n        propertySpecity[pseudoPropsMap[property].priority]++;\n        simplifyProps({\n          props: props[property],\n          colormode,\n          platform,\n          state,\n          currentSpecificity: propertySpecity,\n          previouslyFlattenProps: previouslyFlattenProps,\n          cascadePseudoProps\n        }, flattenProps, specificityMap, priority);\n      } // @ts-ignore\n\n    } else if (pseudoPropsMap[property] === undefined) {\n      if (property.startsWith('_')) {\n        // NOTE: Handling (internal) props like _text, _stack, ....\n        mergePsuedoProps(property, propertySpecity);\n      } else {\n        if (compareSpecificity(specificityMap[property], propertySpecity, false)) {\n          if (process.env.NODE_ENV === 'development' && props.debug) {\n            /* eslint-disable-next-line */\n            console.log(\"%c \".concat(property), 'color: #818cf8;', 'updated as simple prop');\n          }\n\n          specificityMap[property] = propertySpecity; // replacing simple props (like, p, m, bg, color, ...)\n\n          flattenProps[property] = props[property];\n        } else {\n          if (process.env.NODE_ENV === 'development' && props.debug) {\n            /* eslint-disable-next-line */\n            console.log(\"%c \".concat(property), 'color: #818cf8;', 'ignored');\n          }\n        }\n      }\n    } else {\n      // Can delete unused props\n      if (!cascadePseudoProps) {\n        delete flattenProps[property];\n\n        if (process.env.NODE_ENV === 'development' && props.debug) {\n          /* eslint-disable-next-line */\n          console.log(\"%c \".concat(property), 'color: #818cf8;', 'deleted');\n        }\n      } else {\n        if (process.env.NODE_ENV === 'development' && props.debug) {\n          /* eslint-disable-next-line */\n          console.log(\"%c \".concat(property), 'color: #818cf8;', 'cascaded');\n        }\n\n        mergePsuedoProps(property, propertySpecity);\n      }\n    }\n  }\n};\n\nconst propsFlattener = ({\n  props,\n  colormode,\n  platform,\n  state,\n  currentSpecificityMap,\n  previouslyFlattenProps,\n  cascadePseudoProps\n}, priority) => {\n  const flattenProps = {};\n\n  for (const property in props) {\n    var _pseudoPropsMap$prope2;\n\n    if ( // @ts-ignore\n    state[(_pseudoPropsMap$prope2 = pseudoPropsMap[property]) === null || _pseudoPropsMap$prope2 === void 0 ? void 0 : _pseudoPropsMap$prope2.respondTo] === undefined && property.startsWith('_')) {\n      flattenProps[property] = previouslyFlattenProps[property];\n    }\n  }\n\n  const specificityMap = currentSpecificityMap || {};\n  simplifyProps({\n    props,\n    colormode,\n    platform,\n    state,\n    currentSpecificityMap,\n    previouslyFlattenProps,\n    cascadePseudoProps\n  }, flattenProps, specificityMap, priority);\n  return [flattenProps, specificityMap];\n};\n\nexports.propsFlattener = propsFlattener;\n//# sourceMappingURL=propsFlattener.js.map"]},"metadata":{},"sourceType":"script"}