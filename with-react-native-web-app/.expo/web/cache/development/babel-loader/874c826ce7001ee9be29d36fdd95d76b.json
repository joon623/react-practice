{"ast":null,"code":"import _defineProperty from \"/Users/jun/Desktop/dev/react-practice/with-react-native-web-app/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/jun/Desktop/dev/react-practice/with-react-native-web-app/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/jun/Desktop/dev/react-practice/with-react-native-web-app/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"endingHeight\", \"startingHeight\", \"duration\", \"isOpen\", \"onAnimationEnd\", \"onAnimationStart\"];\n\nvar _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport isNil from 'lodash.isnil';\nimport React, { useEffect, useRef, forwardRef } from 'react';\nimport LayoutAnimation from \"react-native-web/dist/cjs/exports/LayoutAnimation\";\nimport UIManager from \"react-native-web/dist/cjs/exports/UIManager\";\nimport Platform from \"react-native-web/dist/cjs/exports/Platform\";\nimport { Box } from '../../primitives';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\n\nfunction usePrevious(value) {\n  _s();\n\n  var ref = useRef();\n\n  function updatePrevious(newVal) {\n    ref.current = newVal;\n  }\n\n  useEffect(function () {\n    updatePrevious(value);\n  }, [value]);\n  return {\n    value: ref.current,\n    updatePrevious: updatePrevious\n  };\n}\n\n_s(usePrevious, \"8uVE59eA/r6b92xF80p7sH8rXLk=\");\n\nvar Collapse = function Collapse(_ref, ref) {\n  _s2();\n\n  var endingHeight = _ref.endingHeight,\n      startingHeight = _ref.startingHeight,\n      duration = _ref.duration,\n      isOpen = _ref.isOpen,\n      onAnimationEnd = _ref.onAnimationEnd,\n      onAnimationStart = _ref.onAnimationStart,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  if (Platform.OS === 'android') {\n    UIManager.setLayoutAnimationEnabledExperimental && UIManager.setLayoutAnimationEnabledExperimental(true);\n  }\n\n  var CustomLayoutLinear = {\n    duration: duration ? duration : 400,\n    create: {\n      type: LayoutAnimation.Types.easeInEaseOut,\n      property: LayoutAnimation.Properties.opacity\n    },\n    update: {\n      type: LayoutAnimation.Types.easeInEaseOut\n    }\n  };\n  var defaultStartHeight = isOpen ? endingHeight : startingHeight ? startingHeight : 1;\n  var animatedStyle = {\n    height: defaultStartHeight\n  };\n\n  var animateView = function animateView() {\n    if (onAnimationStart) {\n      onAnimationStart();\n    }\n\n    animatedStyle = {\n      height: isOpen ? endingHeight : defaultStartHeight\n    };\n    var callback = onAnimationEnd ? onAnimationEnd : function () {};\n    LayoutAnimation.configureNext(CustomLayoutLinear, callback());\n  };\n\n  var wasOpen = usePrevious(isOpen);\n\n  if (!isNil(wasOpen.value) && wasOpen.value !== isOpen) {\n    animateView();\n    wasOpen.updatePrevious(isOpen);\n  }\n\n  var _React$useState = React.useState(startingHeight !== null && startingHeight !== void 0 ? startingHeight : 0),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      size = _React$useState2[0],\n      setSize = _React$useState2[1];\n\n  var provideSize = function provideSize(layoutSize) {\n    setSize(layoutSize.height);\n  };\n\n  var _web = {\n    transition: \"height \".concat(duration !== null && duration !== void 0 ? duration : '400', \"ms\"),\n    height: isOpen ? endingHeight || size : startingHeight || 0\n  }; //TODO: refactor for responsive prop\n\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(Box, {\n    style: _objectSpread(_objectSpread({}, animatedStyle), Platform.OS === 'web' && _web),\n    overflow: \"hidden\",\n    ref: ref\n  }, /*#__PURE__*/React.createElement(Box //@ts-ignore\n  , _extends({\n    overflow: Platform.OS === 'web' ? 'auto' : 'scroll',\n    onLayout: function onLayout(e) {\n      return provideSize(e.nativeEvent.layout);\n    }\n  }, props)));\n};\n\n_s2(Collapse, \"xxJB3uykSGTm/XK5l6WUFnAwq94=\", false, function () {\n  return [usePrevious, useHasResponsiveProps];\n});\n\n_c = Collapse;\nexport default /*#__PURE__*/_c3 = /*#__PURE__*/React.memo( /*#__PURE__*/_c2 = /*#__PURE__*/forwardRef(Collapse));\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Collapse\");\n$RefreshReg$(_c2, \"%default%$React.memo\");\n$RefreshReg$(_c3, \"%default%\");\n; // Wrapped in an IIFE to avoid polluting the global scope\n\n;\n\n(function () {\n  var _a, _b; // Legacy CSS implementations will `eval` browser code in a Node.js context\n  // to extract CSS. For backwards compatibility, we need to check we're in a\n  // browser context before continuing.\n\n\n  if (typeof self !== 'undefined' && // AMP / No-JS mode does not inject these helpers:\n  '$RefreshHelpers$' in self) {\n    // @ts-ignore __webpack_module__ is global\n    var currentExports = __webpack_module__.exports; // @ts-ignore __webpack_module__ is global\n\n    var prevExports = (_b = (_a = __webpack_module__.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null; // This cannot happen in MainTemplate because the exports mismatch between\n    // templating and execution.\n\n    self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, __webpack_module__.id); // A module can be accepted automatically based on its exports, e.g. when\n    // it is a Refresh Boundary.\n\n    if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n      // Save the previous exports on update so we can compare the boundary\n      // signatures.\n      __webpack_module__.hot.dispose(function (data) {\n        data.prevExports = currentExports;\n      }); // Unconditionally accept an update to this module, we'll check if it's\n      // still a Refresh Boundary later.\n      // @ts-ignore importMeta is replaced in the loader\n\n\n      import.meta.webpackHot.accept(); // This field is set when the previous version of this module was a\n      // Refresh Boundary, letting us know we need to check for invalidation or\n      // enqueue an update.\n\n      if (prevExports !== null) {\n        // A boundary can become ineligible if its exports are incompatible\n        // with the previous exports.\n        //\n        // For example, if you add/remove/change exports, we'll want to\n        // re-execute the importing modules, and force those components to\n        // re-render. Similarly, if you convert a class component to a\n        // function, we want to invalidate the boundary.\n        if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n          __webpack_module__.hot.invalidate();\n        } else {\n          self.$RefreshHelpers$.scheduleUpdate();\n        }\n      }\n    } else {\n      // Since we just executed the code for the module, it's possible that the\n      // new exports made it ineligible for being a boundary.\n      // We only care about the case when we were _previously_ a boundary,\n      // because we already accepted this update (accidental side effect).\n      var isNoLongerABoundary = prevExports !== null;\n\n      if (isNoLongerABoundary) {\n        __webpack_module__.hot.invalidate();\n      }\n    }\n  }\n})();","map":{"version":3,"sources":["/Users/jun/Desktop/dev/react-practice/with-react-native-web-app/node_modules/native-base/lib/module/components/composites/Collapse/index.js"],"names":["_extends","Object","i","arguments","source","target","usePrevious","ref","useRef","useEffect","updatePrevious","value","Collapse","endingHeight","startingHeight","duration","isOpen","onAnimationEnd","onAnimationStart","props","Platform","UIManager","CustomLayoutLinear","create","type","LayoutAnimation","property","opacity","update","easeInEaseOut","defaultStartHeight","animatedStyle","height","animateView","callback","wasOpen","isNil","size","setSize","React","provideSize","layoutSize","_web","transition","useHasResponsiveProps","style","overflow","onLayout","e","forwardRef"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport isNil from 'lodash.isnil';\nimport React, { useEffect, useRef, forwardRef } from 'react';\nimport { LayoutAnimation, UIManager, Platform } from 'react-native';\nimport { Box } from '../../primitives';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\n\nfunction usePrevious(value) {\n  const ref = useRef();\n\n  function updatePrevious(newVal) {\n    ref.current = newVal;\n  }\n\n  useEffect(() => {\n    updatePrevious(value);\n  }, [value]);\n  return {\n    value: ref.current,\n    updatePrevious\n  };\n}\n\nconst Collapse = ({\n  endingHeight,\n  startingHeight,\n  duration,\n  // animateOpacity,\n  isOpen,\n  onAnimationEnd,\n  onAnimationStart,\n  ...props\n}, ref) => {\n  if (Platform.OS === 'android') {\n    UIManager.setLayoutAnimationEnabledExperimental && UIManager.setLayoutAnimationEnabledExperimental(true);\n  }\n\n  const CustomLayoutLinear = {\n    duration: duration ? duration : 400,\n    create: {\n      type: LayoutAnimation.Types.easeInEaseOut,\n      property: LayoutAnimation.Properties.opacity\n    },\n    update: {\n      type: LayoutAnimation.Types.easeInEaseOut\n    }\n  };\n  const defaultStartHeight = isOpen ? endingHeight : startingHeight ? startingHeight : 1;\n  let animatedStyle = {\n    height: defaultStartHeight\n  };\n\n  const animateView = () => {\n    if (onAnimationStart) {\n      onAnimationStart();\n    }\n\n    animatedStyle = {\n      height: isOpen ? endingHeight : defaultStartHeight\n    };\n    let callback = onAnimationEnd ? onAnimationEnd : () => {};\n    LayoutAnimation.configureNext(CustomLayoutLinear, callback());\n  };\n\n  let wasOpen = usePrevious(isOpen);\n\n  if (!isNil(wasOpen.value) && wasOpen.value !== isOpen) {\n    animateView();\n    wasOpen.updatePrevious(isOpen);\n  }\n\n  const [size, setSize] = React.useState(startingHeight !== null && startingHeight !== void 0 ? startingHeight : 0);\n\n  const provideSize = layoutSize => {\n    setSize(layoutSize.height);\n  };\n\n  const _web = {\n    transition: \"height \".concat(duration !== null && duration !== void 0 ? duration : '400', \"ms\"),\n    height: isOpen ? endingHeight || size : startingHeight || 0\n  }; //TODO: refactor for responsive prop\n\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(Box, {\n    style: { ...animatedStyle,\n      ...(Platform.OS === 'web' && _web)\n    },\n    overflow: \"hidden\",\n    ref: ref\n  }, /*#__PURE__*/React.createElement(Box //@ts-ignore\n  , _extends({\n    overflow: Platform.OS === 'web' ? 'auto' : 'scroll',\n    onLayout: e => provideSize(e.nativeEvent.layout)\n  }, props)));\n};\n\nexport default /*#__PURE__*/React.memo( /*#__PURE__*/forwardRef(Collapse));\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"module"}