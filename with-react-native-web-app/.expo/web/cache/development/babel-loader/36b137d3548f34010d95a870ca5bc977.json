{"ast":null,"code":"import _asyncToGenerator from \"/Users/jun/Desktop/dev/react-practice/with-react-native-web-app/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _regeneratorRuntime from \"/Users/jun/Desktop/dev/react-practice/with-react-native-web-app/node_modules/next/dist/compiled/@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport { HybridContext } from './../hybrid-overlay/Context';\nimport useColorScheme from \"react-native-web/dist/cjs/exports/useColorScheme\";\nexport var useColorMode = function useColorMode() {\n  var _React$useContext = React.useContext(HybridContext),\n      colorModeContext = _React$useContext.colorMode;\n\n  if (colorModeContext === undefined) {\n    throw new Error('useColorMode must be used within a NativeBaseProvider');\n  }\n\n  return colorModeContext;\n};\nexport function useColorModeValue(light, dark) {\n  var _useColorMode = useColorMode(),\n      colorMode = _useColorMode.colorMode;\n\n  return colorMode === 'dark' ? dark : light;\n}\nexport function useModeManager(initialColorMode, useSystemColorMode, colorModeManager) {\n  var systemColorMode = useColorScheme();\n\n  if (useSystemColorMode) {\n    initialColorMode = systemColorMode;\n  }\n\n  var _useState = useState(initialColorMode),\n      colorMode = _useState[0],\n      setRawMode = _useState[1];\n\n  var setColorMode = React.useCallback( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(val) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!colorModeManager) {\n                _context.next = 3;\n                break;\n              }\n\n              _context.next = 3;\n              return colorModeManager.set(val);\n\n            case 3:\n              setRawMode(val);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(), [colorModeManager]); // For initial setting initial color mode from storage\n\n  useEffect(function () {\n    if (colorModeManager) {\n      (function () {\n        var _getMode = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n          var value;\n          return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  _context2.next = 2;\n                  return colorModeManager.get(initialColorMode);\n\n                case 2:\n                  value = _context2.sent;\n\n                  if (value && value !== colorMode) {\n                    setRawMode(value);\n                  }\n\n                case 4:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        function getMode() {\n          return _getMode.apply(this, arguments);\n        }\n\n        return getMode;\n      })()();\n    }\n  }, [colorMode, initialColorMode, colorModeManager]); // Set system color mode only when user has not passed a colorModeManager\n\n  useEffect(function () {\n    if (!colorModeManager && useSystemColorMode) {\n      setRawMode(systemColorMode);\n    }\n  }, [systemColorMode, colorModeManager, useSystemColorMode, setRawMode]);\n  return {\n    colorMode: colorMode,\n    setColorMode: setColorMode\n  };\n}\nexport function useAccessibleColors() {\n  var _React$useContext2 = React.useContext(HybridContext),\n      colorModeContext = _React$useContext2.colorMode;\n\n  var toggleAccessibleColors = function toggleAccessibleColors() {\n    return colorModeContext.setAccessibleColors(!colorModeContext.accessibleColors);\n  };\n\n  return [colorModeContext.accessibleColors, colorModeContext.setAccessibleColors, toggleAccessibleColors];\n}","map":{"version":3,"sources":["/Users/jun/Desktop/dev/react-practice/with-react-native-web-app/node_modules/native-base/src/core/color-mode/hooks.tsx"],"names":["useColorMode","colorMode","colorModeContext","React","systemColorMode","useColorScheme","initialColorMode","setRawMode","useState","setColorMode","colorModeManager","useEffect","value","toggleAccessibleColors"],"mappings":";;AAAA,OAAA,KAAA,IAAA,QAAA,EAAA,SAAA,QAAA,OAAA;AAMA,SAAA,aAAA,QAAA,6BAAA;;AAIA,OAAO,IAAMA,YAAY,GAAG,SAAfA,YAAe,GAA8B;EACxD,wBAIIG,KAAK,CAALA,UAAAA,CAJJ,aAIIA,CAJJ;EAAA,IACaD,gBADb,qBACED,SADF;;EAKA,IAAIC,gBAAgB,KAApB,SAAA,EAAoC;IAClC,MAAM,IAAA,KAAA,CAAN,uDAAM,CAAN;EACD;;EACD,OAAA,gBAAA;AATK,CAAA;AAYP,OAAO,SAAA,iBAAA,CAAA,KAAA,EAAA,IAAA,EAAkD;EACvD,oBAAsBF,YAAtB,EAAA;EAAA,IAAQC,SAAR,iBAAQA,SAAR;;EACA,OAAOA,SAAS,KAATA,MAAAA,GAAAA,IAAAA,GAAP,KAAA;AACD;AAED,OAAO,SAAA,cAAA,CAAA,gBAAA,EAAA,kBAAA,EAAA,gBAAA,EAIL;EACA,IAAMG,eAAe,GAAGC,cAAxB,EAAA;;EAEA,IAAA,kBAAA,EAAwB;IACtBC,gBAAgB,GAAhBA,eAAAA;EACD;;EAED,gBAAgCE,QAAQ,CAAxC,gBAAwC,CAAxC;EAAA,IAAM,SAAN,aAAM,CAAN;EAAA,IAAkBD,UAAlB,aAAM,CAAN;;EACA,IAAME,YAAY,GAAG,KAAK,CAAL,WAAA;IAAA,oEACnB,iBAAA,GAAA;MAAA;QAAA;UAAA;YAAA;cAAA,KACE,gBADF;gBAAA;gBAAA;cAAA;;cAAA;cAAA,OAEUC,gBAAgB,CAAhBA,GAAAA,CAAN,GAAMA,CAFV;;YAAA;cAIEH,UAAU,CAAVA,GAAU,CAAVA;;YAJF;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CADmB;;IAAA;MAAA;IAAA;EAAA,KAOnB,CAfF,gBAeE,CAPmB,CAArB,CARA,CAkBA;;EACAI,SAAS,CAAC,YAAM;IACd,IAAA,gBAAA,EAAsB;MACpB;QAAA,wEAAC;UAAA;UAAA;YAAA;cAAA;gBAAA;kBAAA;kBAAA,OACmBD,gBAAgB,CAAhBA,GAAAA,CAAlB,gBAAkBA,CADnB;;gBAAA;kBACKE,KADL;;kBAEC,IAAIA,KAAK,IAAIA,KAAK,KAAlB,SAAA,EAAkC;oBAChCL,UAAU,CAAVA,KAAU,CAAVA;kBACD;;gBAJF;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA,CAAD;;QAAA,SAAC,OAAD;UAAA;QAAA;;QAAA,OAAC,OAAD;MAAA;IAMD;EARM,CAAA,EASN,CAAA,SAAA,EAAA,gBAAA,EA5BH,gBA4BG,CATM,CAATI,CAnBA,CA8BA;;EACAA,SAAS,CAAC,YAAM;IACd,IAAI,CAAA,gBAAA,IAAJ,kBAAA,EAA6C;MAC3CJ,UAAU,CAAVA,eAAU,CAAVA;IACD;EAHM,CAAA,EAIN,CAAA,eAAA,EAAA,gBAAA,EAAA,kBAAA,EAJHI,UAIG,CAJM,CAATA;EAMA,OAAO;IAAEV,SAAF,EAAEA,SAAF;IAAaQ,YAAAA,EAAAA;EAAb,CAAP;AACD;AAED,OAAO,SAAA,mBAAA,GAIL;EACA,yBAIIN,KAAK,CAALA,UAAAA,CAJJ,aAIIA,CAJJ;EAAA,IACaD,gBADb,sBACED,SADF;;EAKA,IAAMY,sBAAsB,GAAG,SAAzBA,sBAAyB;IAAA,OAC7BX,gBAAgB,CAAhBA,mBAAAA,CAAqC,CAACA,gBAAgB,CADxD,gBACEA,CAD6B;EAAA,CAA/B;;EAEA,OAAO,CACLA,gBAAgB,CADX,gBAAA,EAELA,gBAAgB,CAFX,mBAAA,EAAP,sBAAO,CAAP;AAKD","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport type {\n  ColorMode,\n  StorageManager,\n  IColorModeContextProps,\n} from './types';\nimport { HybridContext } from './../hybrid-overlay/Context';\nimport type { IHybridContextProps } from './../hybrid-overlay/types';\nimport { useColorScheme } from 'react-native';\n\nexport const useColorMode = (): IColorModeContextProps => {\n  const {\n    colorMode: colorModeContext,\n  }: {\n    colorMode: IColorModeContextProps;\n  } = React.useContext<IHybridContextProps>(HybridContext);\n  if (colorModeContext === undefined) {\n    throw new Error('useColorMode must be used within a NativeBaseProvider');\n  }\n  return colorModeContext;\n};\n\nexport function useColorModeValue(light: any, dark: any) {\n  const { colorMode } = useColorMode();\n  return colorMode === 'dark' ? dark : light;\n}\n\nexport function useModeManager(\n  initialColorMode: ColorMode,\n  useSystemColorMode: boolean | undefined,\n  colorModeManager?: StorageManager\n) {\n  const systemColorMode = useColorScheme();\n\n  if (useSystemColorMode) {\n    initialColorMode = systemColorMode;\n  }\n\n  const [colorMode, setRawMode] = useState<ColorMode>(initialColorMode);\n  const setColorMode = React.useCallback(\n    async (val: ColorMode) => {\n      if (colorModeManager) {\n        await colorModeManager.set(val);\n      }\n      setRawMode(val);\n    },\n    [colorModeManager]\n  );\n\n  // For initial setting initial color mode from storage\n  useEffect(() => {\n    if (colorModeManager) {\n      (async function getMode() {\n        let value = await colorModeManager.get(initialColorMode);\n        if (value && value !== colorMode) {\n          setRawMode(value);\n        }\n      })();\n    }\n  }, [colorMode, initialColorMode, colorModeManager]);\n\n  // Set system color mode only when user has not passed a colorModeManager\n  useEffect(() => {\n    if (!colorModeManager && useSystemColorMode) {\n      setRawMode(systemColorMode);\n    }\n  }, [systemColorMode, colorModeManager, useSystemColorMode, setRawMode]);\n\n  return { colorMode, setColorMode };\n}\n\nexport function useAccessibleColors(): [\n  boolean,\n  (val: boolean) => void,\n  () => void\n] {\n  const {\n    colorMode: colorModeContext,\n  }: {\n    colorMode: IColorModeContextProps;\n  } = React.useContext<IHybridContextProps>(HybridContext);\n  const toggleAccessibleColors = () =>\n    colorModeContext.setAccessibleColors(!colorModeContext.accessibleColors);\n  return [\n    colorModeContext.accessibleColors,\n    colorModeContext.setAccessibleColors,\n    toggleAccessibleColors,\n  ];\n}\n"]},"metadata":{},"sourceType":"module"}