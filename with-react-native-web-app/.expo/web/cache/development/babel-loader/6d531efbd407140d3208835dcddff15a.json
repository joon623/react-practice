{"ast":null,"code":"import _toConsumableArray from \"/Users/jun/Desktop/dev/react-practice/with-react-native-web-app/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/jun/Desktop/dev/react-practice/with-react-native-web-app/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/jun/Desktop/dev/react-practice/with-react-native-web-app/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/jun/Desktop/dev/react-practice/with-react-native-web-app/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nvar _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$();\n\nvar _excluded = [\"onSelectedItemChange\", \"options\", \"renderItem\", \"getOptionLabel\", \"getOptionKey\", \"onChange\", \"numberOfItems\"];\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React from 'react';\nimport { useButton } from '@react-native-aria/button';\nimport { useComboBoxState } from '@react-stately/combobox';\nimport { useComboBox } from '@react-native-aria/combobox';\nimport { useListBox, useOption } from '@react-native-aria/listbox';\nimport ScrollView from \"react-native-web/dist/cjs/exports/ScrollView\";\nimport findNodeHandle from \"react-native-web/dist/cjs/exports/findNodeHandle\";\nimport Platform from \"react-native-web/dist/cjs/exports/Platform\";\nimport { Item } from '@react-stately/collections';\nimport Box from '../../primitives/Box';\nimport { Pressable } from '../../primitives/Pressable';\nimport Text from '../../primitives/Text';\nimport { extractInObject } from '../../../theme/tools';\nimport { layoutPropsList } from './types';\nimport { Input } from '../../primitives/Input';\nimport { useThemeProps } from '../../../hooks';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\nexport var Typeahead = /*#__PURE__*/_s( /*#__PURE__*/React.forwardRef(_c = _s(function (_ref, ref) {\n  _s();\n\n  var onSelectedItemChange = _ref.onSelectedItemChange,\n      options = _ref.options,\n      renderItem = _ref.renderItem,\n      getOptionLabel = _ref.getOptionLabel,\n      getOptionKey = _ref.getOptionKey,\n      onChange = _ref.onChange,\n      numberOfItems = _ref.numberOfItems,\n      rest = _objectWithoutProperties(_ref, _excluded); //TODO: refactor for responsive prop\n\n\n  if (useHasResponsiveProps(rest)) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(ComboBoxImplementation, _extends({}, rest, {\n    onSelectionChange: onSelectedItemChange,\n    items: numberOfItems !== undefined ? options.slice(0, numberOfItems) : options,\n    onInputChange: onChange,\n    ref: ref\n  }), function (item) {\n    if (typeof item !== 'string' && getOptionLabel === undefined) {\n      throw new Error('Please use getOptionLabel prop');\n    }\n\n    if (item.id === undefined && getOptionKey === undefined) {\n      throw new Error('Please use getOptionKey prop');\n    }\n\n    var optionLabel = getOptionLabel ? getOptionLabel(item) : item;\n    var optionKey = getOptionKey ? getOptionKey(item) : item.id !== undefined ? item.id : optionLabel;\n    return /*#__PURE__*/React.createElement(Item, {\n      textValue: optionLabel,\n      key: optionKey\n    }, renderItem ? renderItem(item) : /*#__PURE__*/React.createElement(Box, {\n      p: 2,\n      justifyContent: \"center\"\n    }, /*#__PURE__*/React.createElement(Text, null, optionLabel)));\n  });\n}, \"6bgQodg0TzCnC+sh66zK0WX4/IY=\", false, function () {\n  return [useHasResponsiveProps];\n})), \"6bgQodg0TzCnC+sh66zK0WX4/IY=\", false, function () {\n  return [useHasResponsiveProps];\n});\n_c2 = Typeahead;\n\nvar ComboBoxImplementation = /*#__PURE__*/_s2( /*#__PURE__*/React.forwardRef(_c3 = _s2(function (props, ref) {\n  _s2();\n\n  var _extractInObject = extractInObject(props, layoutPropsList),\n      _extractInObject2 = _slicedToArray(_extractInObject, 1),\n      layoutProps = _extractInObject2[0];\n\n  var state = useComboBoxState(props);\n  var triggerRef = React.useRef(null);\n  var inputRef = React.useRef(null);\n  var listBoxRef = React.useRef(null);\n  var popoverRef = React.useRef(null);\n\n  var _useComboBox = useComboBox(_objectSpread(_objectSpread({}, props), {}, {\n    inputRef: inputRef,\n    buttonRef: triggerRef,\n    listBoxRef: listBoxRef,\n    popoverRef: popoverRef,\n    menuTrigger: 'input'\n  }), state),\n      triggerProps = _useComboBox.buttonProps,\n      inputProps = _useComboBox.inputProps,\n      listBoxProps = _useComboBox.listBoxProps,\n      labelProps = _useComboBox.labelProps;\n\n  var toggleIconSetter = function toggleIconSetter() {\n    if (typeof props.toggleIcon === 'function') return props.toggleIcon({\n      isOpen: state.isOpen\n    });\n    return props.toggleIcon;\n  };\n\n  var _useButton = useButton(triggerProps),\n      buttonProps = _useButton.buttonProps;\n\n  return /*#__PURE__*/React.createElement(Box, _extends({\n    flexDirection: \"row\"\n  }, layoutProps, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(Box, {\n    flex: 1\n  }, props.label && /*#__PURE__*/React.createElement(Text, _extends({}, labelProps, {\n    pb: 1\n  }), props.label), /*#__PURE__*/React.createElement(Input, _extends({}, inputProps, {\n    ref: inputRef,\n    InputRightElement:\n    /*#__PURE__*/\n    // @ts-ignore - RN has hitSlop type inconsistent for View and Pressable!\n    React.createElement(Pressable, _extends({}, buttonProps, {\n      ref: triggerRef\n    }), toggleIconSetter())\n  })), state.isOpen && /*#__PURE__*/React.createElement(ListBoxPopup, _extends({}, listBoxProps, {\n    listBoxRef: listBoxRef,\n    popoverRef: popoverRef,\n    state: state,\n    label: props.label\n  }))));\n}, \"Xvl/BmNDNNJXavkHcKsv1WLtmrA=\", false, function () {\n  return [useComboBoxState, useComboBox, useButton];\n})), \"Xvl/BmNDNNJXavkHcKsv1WLtmrA=\", false, function () {\n  return [useComboBoxState, useComboBox, useButton];\n});\n\n_c4 = ComboBoxImplementation;\n\nfunction ListBoxPopup(props) {\n  _s3();\n\n  var popoverRef = props.popoverRef,\n      listBoxRef = props.listBoxRef,\n      state = props.state,\n      dropdownHeight = props.dropdownHeight,\n      label = props.label;\n\n  var _useListBox = useListBox({\n    label: label,\n    autoFocus: state.focusStrategy,\n    disallowEmptySelection: true\n  }, state, listBoxRef),\n      listBoxProps = _useListBox.listBoxProps;\n\n  return /*#__PURE__*/React.createElement(Box, {\n    ref: popoverRef\n  }, /*#__PURE__*/React.createElement(Box, {\n    position: \"absolute\",\n    width: \"100%\",\n    maxHeight: dropdownHeight !== null && dropdownHeight !== void 0 ? dropdownHeight : 200\n  }, /*#__PURE__*/React.createElement(ScrollView, _extends({}, listBoxProps, {\n    keyboardShouldPersistTaps: \"handled\",\n    ref: function ref(node) {\n      if (Platform.OS === 'web') {\n        listBoxRef.current = findNodeHandle(node);\n      } else {\n        listBoxRef.current = node;\n      }\n    }\n  }), _toConsumableArray(state.collection).map(function (item) {\n    return /*#__PURE__*/React.createElement(Option, {\n      key: item.key,\n      item: item,\n      state: state\n    });\n  }))));\n}\n\n_s3(ListBoxPopup, \"8o1W2WJW0Cdp1dr4b7Ve5V5jvuA=\", false, function () {\n  return [useListBox];\n});\n\n_c5 = ListBoxPopup;\n\nfunction Option(_ref2) {\n  _s4();\n\n  var item = _ref2.item,\n      state = _ref2.state;\n  var searchItemStyle = useThemeProps('TypeAheadSearchItem', {});\n  var ref = React.useRef(null);\n  var isDisabled = state.disabledKeys.has(item.key);\n  var isSelected = state.selectionManager.isSelected(item.key);\n  var isFocused = state.selectionManager.focusedKey === item.key;\n\n  var _useOption = useOption({\n    key: item.key,\n    isDisabled: isDisabled,\n    isSelected: isSelected,\n    shouldFocusOnHover: true,\n    shouldUseVirtualFocus: true\n  }, state, ref),\n      optionProps = _useOption.optionProps;\n\n  var backgroundColor = searchItemStyle.backgroundColor;\n  var opacity = 1;\n\n  if (isSelected) {\n    backgroundColor = searchItemStyle._focus.backgroundColor;\n  } else if (isFocused) {\n    backgroundColor = searchItemStyle._focus.backgroundColor;\n  } else if (isDisabled) {\n    opacity = 0.6;\n    backgroundColor = searchItemStyle._disabled.backgroundColor;\n  }\n\n  return /*#__PURE__*/React.createElement(Pressable, _extends({}, optionProps, {\n    opacity: opacity,\n    cursor: isDisabled ? Platform.OS === 'web' ? 'not-allowed' : null : null,\n    backgroundColor: backgroundColor,\n    ref: ref\n  }), item.rendered);\n}\n\n_s4(Option, \"YBxHGdxAIqn4mMi+dKBN2pz547w=\", false, function () {\n  return [useThemeProps, useOption];\n});\n\n_c6 = Option;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"Typeahead$React.forwardRef\");\n$RefreshReg$(_c2, \"Typeahead\");\n$RefreshReg$(_c3, \"ComboBoxImplementation$React.forwardRef\");\n$RefreshReg$(_c4, \"ComboBoxImplementation\");\n$RefreshReg$(_c5, \"ListBoxPopup\");\n$RefreshReg$(_c6, \"Option\");\n; // Wrapped in an IIFE to avoid polluting the global scope\n\n;\n\n(function () {\n  var _a, _b; // Legacy CSS implementations will `eval` browser code in a Node.js context\n  // to extract CSS. For backwards compatibility, we need to check we're in a\n  // browser context before continuing.\n\n\n  if (typeof self !== 'undefined' && // AMP / No-JS mode does not inject these helpers:\n  '$RefreshHelpers$' in self) {\n    // @ts-ignore __webpack_module__ is global\n    var currentExports = __webpack_module__.exports; // @ts-ignore __webpack_module__ is global\n\n    var prevExports = (_b = (_a = __webpack_module__.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null; // This cannot happen in MainTemplate because the exports mismatch between\n    // templating and execution.\n\n    self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, __webpack_module__.id); // A module can be accepted automatically based on its exports, e.g. when\n    // it is a Refresh Boundary.\n\n    if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n      // Save the previous exports on update so we can compare the boundary\n      // signatures.\n      __webpack_module__.hot.dispose(function (data) {\n        data.prevExports = currentExports;\n      }); // Unconditionally accept an update to this module, we'll check if it's\n      // still a Refresh Boundary later.\n      // @ts-ignore importMeta is replaced in the loader\n\n\n      import.meta.webpackHot.accept(); // This field is set when the previous version of this module was a\n      // Refresh Boundary, letting us know we need to check for invalidation or\n      // enqueue an update.\n\n      if (prevExports !== null) {\n        // A boundary can become ineligible if its exports are incompatible\n        // with the previous exports.\n        //\n        // For example, if you add/remove/change exports, we'll want to\n        // re-execute the importing modules, and force those components to\n        // re-render. Similarly, if you convert a class component to a\n        // function, we want to invalidate the boundary.\n        if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n          __webpack_module__.hot.invalidate();\n        } else {\n          self.$RefreshHelpers$.scheduleUpdate();\n        }\n      }\n    } else {\n      // Since we just executed the code for the module, it's possible that the\n      // new exports made it ineligible for being a boundary.\n      // We only care about the case when we were _previously_ a boundary,\n      // because we already accepted this update (accidental side effect).\n      var isNoLongerABoundary = prevExports !== null;\n\n      if (isNoLongerABoundary) {\n        __webpack_module__.hot.invalidate();\n      }\n    }\n  }\n})();","map":{"version":3,"sources":["/Users/jun/Desktop/dev/react-practice/with-react-native-web-app/node_modules/native-base/lib/module/components/composites/Typeahead/Typeahead.js"],"names":["_extends","Object","i","arguments","source","target","Typeahead","onSelectedItemChange","options","renderItem","getOptionLabel","getOptionKey","onChange","numberOfItems","rest","useHasResponsiveProps","onSelectionChange","items","onInputChange","ref","item","optionLabel","optionKey","textValue","key","p","justifyContent","React","ComboBoxImplementation","layoutProps","extractInObject","state","useComboBoxState","triggerRef","inputRef","listBoxRef","popoverRef","triggerProps","inputProps","listBoxProps","labelProps","useComboBox","buttonRef","menuTrigger","toggleIconSetter","props","isOpen","buttonProps","useButton","flexDirection","flex","pb","InputRightElement","label","ListBoxPopup","dropdownHeight","useListBox","autoFocus","disallowEmptySelection","position","width","maxHeight","keyboardShouldPersistTaps","Platform","findNodeHandle","Option","searchItemStyle","useThemeProps","isDisabled","isSelected","isFocused","optionProps","useOption","shouldFocusOnHover","shouldUseVirtualFocus","backgroundColor","opacity","cursor"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\nimport { useButton } from '@react-native-aria/button';\nimport { useComboBoxState } from '@react-stately/combobox';\nimport { useComboBox } from '@react-native-aria/combobox';\nimport { useListBox, useOption } from '@react-native-aria/listbox';\nimport { ScrollView, findNodeHandle, Platform } from 'react-native';\nimport { Item } from '@react-stately/collections';\nimport Box from '../../primitives/Box';\nimport { Pressable } from '../../primitives/Pressable';\nimport Text from '../../primitives/Text';\nimport { extractInObject } from '../../../theme/tools';\nimport { layoutPropsList } from './types';\nimport { Input } from '../../primitives/Input';\nimport { useThemeProps } from '../../../hooks';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\nexport const Typeahead = /*#__PURE__*/React.forwardRef(({\n  onSelectedItemChange,\n  options,\n  renderItem,\n  getOptionLabel,\n  getOptionKey,\n  onChange,\n  numberOfItems,\n  ...rest\n}, ref) => {\n  //TODO: refactor for responsive prop\n  if (useHasResponsiveProps(rest)) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(ComboBoxImplementation, _extends({}, rest, {\n    onSelectionChange: onSelectedItemChange,\n    items: numberOfItems !== undefined ? options.slice(0, numberOfItems) : options,\n    onInputChange: onChange,\n    ref: ref\n  }), item => {\n    if (typeof item !== 'string' && getOptionLabel === undefined) {\n      throw new Error('Please use getOptionLabel prop');\n    }\n\n    if (item.id === undefined && getOptionKey === undefined) {\n      throw new Error('Please use getOptionKey prop');\n    }\n\n    const optionLabel = getOptionLabel ? getOptionLabel(item) : item;\n    const optionKey = getOptionKey ? getOptionKey(item) : item.id !== undefined ? item.id : optionLabel;\n    return /*#__PURE__*/React.createElement(Item, {\n      textValue: optionLabel,\n      key: optionKey\n    }, renderItem ? renderItem(item) : /*#__PURE__*/React.createElement(Box, {\n      p: 2,\n      justifyContent: \"center\"\n    }, /*#__PURE__*/React.createElement(Text, null, optionLabel)));\n  });\n});\nconst ComboBoxImplementation = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const [layoutProps] = extractInObject(props, layoutPropsList);\n  let state = useComboBoxState(props);\n  let triggerRef = React.useRef(null);\n  let inputRef = React.useRef(null);\n  let listBoxRef = React.useRef(null);\n  let popoverRef = React.useRef(null);\n  let {\n    buttonProps: triggerProps,\n    inputProps,\n    listBoxProps,\n    labelProps\n  } = useComboBox({ ...props,\n    inputRef,\n    buttonRef: triggerRef,\n    listBoxRef,\n    popoverRef,\n    menuTrigger: 'input'\n  }, state);\n\n  const toggleIconSetter = () => {\n    if (typeof props.toggleIcon === 'function') return props.toggleIcon({\n      isOpen: state.isOpen\n    });\n    return props.toggleIcon;\n  };\n\n  let {\n    buttonProps\n  } = useButton(triggerProps);\n  return /*#__PURE__*/React.createElement(Box, _extends({\n    flexDirection: \"row\"\n  }, layoutProps, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(Box, {\n    flex: 1\n  }, props.label && /*#__PURE__*/React.createElement(Text, _extends({}, labelProps, {\n    pb: 1\n  }), props.label), /*#__PURE__*/React.createElement(Input, _extends({}, inputProps, {\n    ref: inputRef,\n    InputRightElement:\n    /*#__PURE__*/\n    // @ts-ignore - RN has hitSlop type inconsistent for View and Pressable!\n    React.createElement(Pressable, _extends({}, buttonProps, {\n      ref: triggerRef\n    }), toggleIconSetter())\n  })), state.isOpen && /*#__PURE__*/React.createElement(ListBoxPopup, _extends({}, listBoxProps, {\n    listBoxRef: listBoxRef,\n    popoverRef: popoverRef,\n    state: state,\n    label: props.label\n  }))));\n});\n\nfunction ListBoxPopup(props) {\n  let {\n    popoverRef,\n    listBoxRef,\n    state,\n    dropdownHeight,\n    label\n  } = props;\n  let {\n    listBoxProps\n  } = useListBox({\n    label,\n    autoFocus: state.focusStrategy,\n    disallowEmptySelection: true\n  }, state, listBoxRef);\n  return /*#__PURE__*/React.createElement(Box, {\n    ref: popoverRef\n  }, /*#__PURE__*/React.createElement(Box, {\n    position: \"absolute\",\n    width: \"100%\",\n    maxHeight: dropdownHeight !== null && dropdownHeight !== void 0 ? dropdownHeight : 200\n  }, /*#__PURE__*/React.createElement(ScrollView, _extends({}, listBoxProps, {\n    keyboardShouldPersistTaps: \"handled\",\n    ref: node => {\n      if (Platform.OS === 'web') {\n        listBoxRef.current = findNodeHandle(node);\n      } else {\n        listBoxRef.current = node;\n      }\n    }\n  }), [...state.collection].map(item => /*#__PURE__*/React.createElement(Option, {\n    key: item.key,\n    item: item,\n    state: state\n  })))));\n}\n\nfunction Option({\n  item,\n  state\n}) {\n  const searchItemStyle = useThemeProps('TypeAheadSearchItem', {});\n  let ref = React.useRef(null);\n  let isDisabled = state.disabledKeys.has(item.key);\n  let isSelected = state.selectionManager.isSelected(item.key);\n  let isFocused = state.selectionManager.focusedKey === item.key;\n  let {\n    optionProps\n  } = useOption({\n    key: item.key,\n    isDisabled,\n    isSelected,\n    shouldFocusOnHover: true,\n    shouldUseVirtualFocus: true\n  }, state, ref);\n  let backgroundColor = searchItemStyle.backgroundColor;\n  let opacity = 1;\n\n  if (isSelected) {\n    backgroundColor = searchItemStyle._focus.backgroundColor;\n  } else if (isFocused) {\n    backgroundColor = searchItemStyle._focus.backgroundColor;\n  } else if (isDisabled) {\n    opacity = 0.6;\n    backgroundColor = searchItemStyle._disabled.backgroundColor;\n  }\n\n  return /*#__PURE__*/React.createElement(Pressable, _extends({}, optionProps, {\n    opacity: opacity,\n    cursor: isDisabled ? Platform.OS === 'web' ? 'not-allowed' : null : null,\n    backgroundColor: backgroundColor,\n    ref: ref\n  }), item.rendered);\n}\n//# sourceMappingURL=Typeahead.js.map"]},"metadata":{},"sourceType":"module"}