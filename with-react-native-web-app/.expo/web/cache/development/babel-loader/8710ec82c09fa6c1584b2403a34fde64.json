{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useMenuTypeahead = exports.useMenuOptionItem = exports.useMenuItem = exports.useMenu = exports.useMenuTrigger = void 0;\n\nvar _focus = require(\"@react-aria/focus\");\n\nvar _utils = require(\"@react-aria/utils\");\n\nvar _reactNative = require(\"react-native-web/dist/cjs/index\");\n\nvar useMenuTrigger = function useMenuTrigger(_ref) {\n  var handleOpen = _ref.handleOpen,\n      isOpen = _ref.isOpen;\n  var menuTriggerId = (0, _utils.useId)();\n  return {\n    'onKeyDownCapture': function onKeyDownCapture(event) {\n      if ([' ', 'Enter', 'ArrowUp', 'ArrowDown'].includes(event.key)) {\n        event.preventDefault();\n        handleOpen();\n      }\n    },\n    'aria-haspopup': 'menu',\n    'aria-expanded': isOpen ? true : undefined,\n    'nativeID': menuTriggerId\n  };\n};\n\nexports.useMenuTrigger = useMenuTrigger;\n\nvar useMenu = function useMenu() {\n  var focusManager = (0, _focus.useFocusManager)();\n\n  var onKeyDown = function onKeyDown(e) {\n    switch (e.key) {\n      case 'ArrowDown':\n        {\n          e.preventDefault();\n          focusManager.focusNext({\n            wrap: true\n          });\n          break;\n        }\n\n      case 'ArrowUp':\n        {\n          e.preventDefault();\n          focusManager.focusPrevious({\n            wrap: true\n          });\n          break;\n        }\n    }\n  };\n\n  return {\n    onKeyDown: onKeyDown,\n    accessibilityRole: 'menu'\n  };\n};\n\nexports.useMenu = useMenu;\n\nvar useMenuItem = function useMenuItem(_ref2) {\n  var textValue = _ref2.textValue,\n      ref = _ref2.ref;\n  return {\n    accessibilityRole: 'menuitem',\n    dataSet: {\n      nativebaseMenuItem: textValue\n    },\n    onHoverIn: function onHoverIn() {\n      if (ref.current && _reactNative.Platform.OS === 'web') ref.current.focus();\n    }\n  };\n};\n\nexports.useMenuItem = useMenuItem;\n\nvar useMenuOptionItem = function useMenuOptionItem(_ref3) {\n  var isChecked = _ref3.isChecked,\n      type = _ref3.type;\n  return {\n    accessibilityRole: 'menuitem' + (_reactNative.Platform.OS === 'web' ? type : ''),\n    accessibilityState: {\n      checked: isChecked\n    },\n    accessibilityChecked: isChecked\n  };\n};\n\nexports.useMenuOptionItem = useMenuOptionItem;\nvar ITEM_ATTR = 'data-nativebase-menu-item';\n\nvar getValue = function getValue(element) {\n  var _element$getAttribute;\n\n  return (_element$getAttribute = element.getAttribute(ITEM_ATTR)) !== null && _element$getAttribute !== void 0 ? _element$getAttribute : '';\n};\n\nvar useMenuTypeahead = function useMenuTypeahead(props) {\n  return {\n    onKeyDown: function onKeyDown(event) {\n      if (props.onKeyDown) {\n        props.onKeyDown(event);\n      }\n\n      if (event.key.length === 1 && !(event.ctrlKey || event.altKey || event.metaKey)) {\n        var container = event.currentTarget;\n        var values = Array.from(container.querySelectorAll(\"[\".concat(ITEM_ATTR, \"]\"))).map(getValue);\n        var searchKey = event.key;\n        var foundValue = values.find(function (value) {\n          return value.toLowerCase().startsWith(searchKey);\n        });\n        var newItem = container.querySelector(\"[\".concat(ITEM_ATTR, \"=\\\"\").concat(foundValue, \"\\\"]\"));\n\n        if (newItem) {\n          /**\n           * Imperative focus during keydown is risky so we prevent React's batching updates\n           * to avoid potential bugs. See: https://github.com/facebook/react/issues/20332\n           */\n          setTimeout(function () {\n            return newItem.focus();\n          });\n        }\n      }\n    }\n  };\n};\n\nexports.useMenuTypeahead = useMenuTypeahead;","map":{"version":3,"sources":["/Users/jun/Desktop/dev/react-practice/with-react-native-web-app/node_modules/native-base/lib/commonjs/components/composites/Menu/useMenu.js"],"names":["Object","value","exports","_focus","require","_utils","useMenuTrigger","isOpen","menuTriggerId","event","handleOpen","useMenu","focusManager","onKeyDown","e","wrap","accessibilityRole","useMenuItem","ref","dataSet","nativebaseMenuItem","textValue","onHoverIn","_reactNative","useMenuOptionItem","type","accessibilityState","checked","isChecked","accessibilityChecked","ITEM_ATTR","getValue","element","_element$getAttribute","useMenuTypeahead","props","container","values","Array","searchKey","foundValue","newItem","setTimeout"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useMenuTypeahead = exports.useMenuOptionItem = exports.useMenuItem = exports.useMenu = exports.useMenuTrigger = void 0;\n\nvar _focus = require(\"@react-aria/focus\");\n\nvar _utils = require(\"@react-aria/utils\");\n\nvar _reactNative = require(\"react-native\");\n\nconst useMenuTrigger = ({\n  handleOpen,\n  isOpen\n}) => {\n  const menuTriggerId = (0, _utils.useId)();\n  return {\n    'onKeyDownCapture': event => {\n      if ([' ', 'Enter', 'ArrowUp', 'ArrowDown'].includes(event.key)) {\n        event.preventDefault();\n        handleOpen();\n      }\n    },\n    'aria-haspopup': 'menu',\n    'aria-expanded': isOpen ? true : undefined,\n    'nativeID': menuTriggerId\n  };\n};\n\nexports.useMenuTrigger = useMenuTrigger;\n\nconst useMenu = () => {\n  const focusManager = (0, _focus.useFocusManager)();\n\n  const onKeyDown = e => {\n    switch (e.key) {\n      case 'ArrowDown':\n        {\n          e.preventDefault();\n          focusManager.focusNext({\n            wrap: true\n          });\n          break;\n        }\n\n      case 'ArrowUp':\n        {\n          e.preventDefault();\n          focusManager.focusPrevious({\n            wrap: true\n          });\n          break;\n        }\n    }\n  };\n\n  return {\n    onKeyDown,\n    accessibilityRole: 'menu'\n  };\n};\n\nexports.useMenu = useMenu;\n\nconst useMenuItem = ({\n  textValue,\n  ref\n}) => {\n  return {\n    accessibilityRole: 'menuitem',\n    dataSet: {\n      nativebaseMenuItem: textValue\n    },\n    onHoverIn: () => {\n      if (ref.current && _reactNative.Platform.OS === 'web') ref.current.focus();\n    }\n  };\n};\n\nexports.useMenuItem = useMenuItem;\n\nconst useMenuOptionItem = ({\n  isChecked,\n  type\n}) => {\n  return {\n    accessibilityRole: 'menuitem' + (_reactNative.Platform.OS === 'web' ? type : ''),\n    accessibilityState: {\n      checked: isChecked\n    },\n    accessibilityChecked: isChecked\n  };\n};\n\nexports.useMenuOptionItem = useMenuOptionItem;\nconst ITEM_ATTR = 'data-nativebase-menu-item';\n\nconst getValue = element => {\n  var _element$getAttribute;\n\n  return (_element$getAttribute = element.getAttribute(ITEM_ATTR)) !== null && _element$getAttribute !== void 0 ? _element$getAttribute : '';\n};\n\nconst useMenuTypeahead = props => {\n  return {\n    onKeyDown(event) {\n      if (props.onKeyDown) {\n        props.onKeyDown(event);\n      }\n\n      if (event.key.length === 1 && !(event.ctrlKey || event.altKey || event.metaKey)) {\n        const container = event.currentTarget;\n        const values = Array.from(container.querySelectorAll(\"[\".concat(ITEM_ATTR, \"]\"))).map(getValue);\n        const searchKey = event.key;\n        const foundValue = values.find(value => value.toLowerCase().startsWith(searchKey));\n        const newItem = container.querySelector(\"[\".concat(ITEM_ATTR, \"=\\\"\").concat(foundValue, \"\\\"]\"));\n\n        if (newItem) {\n          /**\n           * Imperative focus during keydown is risky so we prevent React's batching updates\n           * to avoid potential bugs. See: https://github.com/facebook/react/issues/20332\n           */\n          setTimeout(() => newItem.focus());\n        }\n      }\n    }\n\n  };\n};\n\nexports.useMenuTypeahead = useMenuTypeahead;\n//# sourceMappingURL=useMenu.js.map"]},"metadata":{},"sourceType":"script"}