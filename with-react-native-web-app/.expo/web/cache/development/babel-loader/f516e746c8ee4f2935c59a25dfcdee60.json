{"ast":null,"code":"\"use strict\";\n\nvar _toConsumableArray = require(\"/Users/jun/Desktop/dev/react-practice/with-react-native-web-app/node_modules/next/dist/compiled/@babel/runtime/helpers/toConsumableArray\");\n\nvar _slicedToArray = require(\"/Users/jun/Desktop/dev/react-practice/with-react-native-web-app/node_modules/next/dist/compiled/@babel/runtime/helpers/slicedToArray\");\n\nvar _excluded = [\"onSelectedItemChange\", \"options\", \"renderItem\", \"getOptionLabel\", \"getOptionKey\", \"onChange\", \"numberOfItems\"];\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Typeahead = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _button = require(\"@react-native-aria/button\");\n\nvar _combobox = require(\"@react-stately/combobox\");\n\nvar _combobox2 = require(\"@react-native-aria/combobox\");\n\nvar _listbox = require(\"@react-native-aria/listbox\");\n\nvar _reactNative = require(\"react-native-web/dist/cjs/index\");\n\nvar _collections = require(\"@react-stately/collections\");\n\nvar _Box = _interopRequireDefault(require(\"../../primitives/Box\"));\n\nvar _Pressable = require(\"../../primitives/Pressable\");\n\nvar _Text = _interopRequireDefault(require(\"../../primitives/Text\"));\n\nvar _tools = require(\"../../../theme/tools\");\n\nvar _types = require(\"./types\");\n\nvar _Input = require(\"../../primitives/Input\");\n\nvar _hooks = require(\"../../../hooks\");\n\nvar _useHasResponsiveProps = require(\"../../../hooks/useHasResponsiveProps\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar Typeahead = /*#__PURE__*/_react[\"default\"].forwardRef(function (_ref, ref) {\n  var onSelectedItemChange = _ref.onSelectedItemChange,\n      options = _ref.options,\n      renderItem = _ref.renderItem,\n      getOptionLabel = _ref.getOptionLabel,\n      getOptionKey = _ref.getOptionKey,\n      onChange = _ref.onChange,\n      numberOfItems = _ref.numberOfItems,\n      rest = _objectWithoutProperties(_ref, _excluded); //TODO: refactor for responsive prop\n\n\n  if ((0, _useHasResponsiveProps.useHasResponsiveProps)(rest)) {\n    return null;\n  }\n\n  return /*#__PURE__*/_react[\"default\"].createElement(ComboBoxImplementation, _extends({}, rest, {\n    onSelectionChange: onSelectedItemChange,\n    items: numberOfItems !== undefined ? options.slice(0, numberOfItems) : options,\n    onInputChange: onChange,\n    ref: ref\n  }), function (item) {\n    if (typeof item !== 'string' && getOptionLabel === undefined) {\n      throw new Error('Please use getOptionLabel prop');\n    }\n\n    if (item.id === undefined && getOptionKey === undefined) {\n      throw new Error('Please use getOptionKey prop');\n    }\n\n    var optionLabel = getOptionLabel ? getOptionLabel(item) : item;\n    var optionKey = getOptionKey ? getOptionKey(item) : item.id !== undefined ? item.id : optionLabel;\n    return /*#__PURE__*/_react[\"default\"].createElement(_collections.Item, {\n      textValue: optionLabel,\n      key: optionKey\n    }, renderItem ? renderItem(item) : /*#__PURE__*/_react[\"default\"].createElement(_Box[\"default\"], {\n      p: 2,\n      justifyContent: \"center\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], null, optionLabel)));\n  });\n});\n\nexports.Typeahead = Typeahead;\n\nvar ComboBoxImplementation = /*#__PURE__*/_react[\"default\"].forwardRef(function (props, ref) {\n  var _ref2 = (0, _tools.extractInObject)(props, _types.layoutPropsList),\n      _ref3 = _slicedToArray(_ref2, 1),\n      layoutProps = _ref3[0];\n\n  var state = (0, _combobox.useComboBoxState)(props);\n\n  var triggerRef = _react[\"default\"].useRef(null);\n\n  var inputRef = _react[\"default\"].useRef(null);\n\n  var listBoxRef = _react[\"default\"].useRef(null);\n\n  var popoverRef = _react[\"default\"].useRef(null);\n\n  var _ref4 = (0, _combobox2.useComboBox)(_objectSpread(_objectSpread({}, props), {}, {\n    inputRef: inputRef,\n    buttonRef: triggerRef,\n    listBoxRef: listBoxRef,\n    popoverRef: popoverRef,\n    menuTrigger: 'input'\n  }), state),\n      triggerProps = _ref4.buttonProps,\n      inputProps = _ref4.inputProps,\n      listBoxProps = _ref4.listBoxProps,\n      labelProps = _ref4.labelProps;\n\n  var toggleIconSetter = function toggleIconSetter() {\n    if (typeof props.toggleIcon === 'function') return props.toggleIcon({\n      isOpen: state.isOpen\n    });\n    return props.toggleIcon;\n  };\n\n  var _ref5 = (0, _button.useButton)(triggerProps),\n      buttonProps = _ref5.buttonProps;\n\n  return /*#__PURE__*/_react[\"default\"].createElement(_Box[\"default\"], _extends({\n    flexDirection: \"row\"\n  }, layoutProps, {\n    ref: ref\n  }), /*#__PURE__*/_react[\"default\"].createElement(_Box[\"default\"], {\n    flex: 1\n  }, props.label && /*#__PURE__*/_react[\"default\"].createElement(_Text[\"default\"], _extends({}, labelProps, {\n    pb: 1\n  }), props.label), /*#__PURE__*/_react[\"default\"].createElement(_Input.Input, _extends({}, inputProps, {\n    ref: inputRef,\n    InputRightElement:\n    /*#__PURE__*/\n    // @ts-ignore - RN has hitSlop type inconsistent for View and Pressable!\n    _react[\"default\"].createElement(_Pressable.Pressable, _extends({}, buttonProps, {\n      ref: triggerRef\n    }), toggleIconSetter())\n  })), state.isOpen && /*#__PURE__*/_react[\"default\"].createElement(ListBoxPopup, _extends({}, listBoxProps, {\n    listBoxRef: listBoxRef,\n    popoverRef: popoverRef,\n    state: state,\n    label: props.label\n  }))));\n});\n\nfunction ListBoxPopup(props) {\n  var popoverRef = props.popoverRef,\n      listBoxRef = props.listBoxRef,\n      state = props.state,\n      dropdownHeight = props.dropdownHeight,\n      label = props.label;\n\n  var _ref6 = (0, _listbox.useListBox)({\n    label: label,\n    autoFocus: state.focusStrategy,\n    disallowEmptySelection: true\n  }, state, listBoxRef),\n      listBoxProps = _ref6.listBoxProps;\n\n  return /*#__PURE__*/_react[\"default\"].createElement(_Box[\"default\"], {\n    ref: popoverRef\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Box[\"default\"], {\n    position: \"absolute\",\n    width: \"100%\",\n    maxHeight: dropdownHeight !== null && dropdownHeight !== void 0 ? dropdownHeight : 200\n  }, /*#__PURE__*/_react[\"default\"].createElement(_reactNative.ScrollView, _extends({}, listBoxProps, {\n    keyboardShouldPersistTaps: \"handled\",\n    ref: function ref(node) {\n      if (_reactNative.Platform.OS === 'web') {\n        listBoxRef.current = (0, _reactNative.findNodeHandle)(node);\n      } else {\n        listBoxRef.current = node;\n      }\n    }\n  }), _toConsumableArray(state.collection).map(function (item) {\n    return /*#__PURE__*/_react[\"default\"].createElement(Option, {\n      key: item.key,\n      item: item,\n      state: state\n    });\n  }))));\n}\n\nfunction Option(_ref7) {\n  var item = _ref7.item,\n      state = _ref7.state;\n  var searchItemStyle = (0, _hooks.useThemeProps)('TypeAheadSearchItem', {});\n\n  var ref = _react[\"default\"].useRef(null);\n\n  var isDisabled = state.disabledKeys.has(item.key);\n  var isSelected = state.selectionManager.isSelected(item.key);\n  var isFocused = state.selectionManager.focusedKey === item.key;\n\n  var _ref8 = (0, _listbox.useOption)({\n    key: item.key,\n    isDisabled: isDisabled,\n    isSelected: isSelected,\n    shouldFocusOnHover: true,\n    shouldUseVirtualFocus: true\n  }, state, ref),\n      optionProps = _ref8.optionProps;\n\n  var backgroundColor = searchItemStyle.backgroundColor;\n  var opacity = 1;\n\n  if (isSelected) {\n    backgroundColor = searchItemStyle._focus.backgroundColor;\n  } else if (isFocused) {\n    backgroundColor = searchItemStyle._focus.backgroundColor;\n  } else if (isDisabled) {\n    opacity = 0.6;\n    backgroundColor = searchItemStyle._disabled.backgroundColor;\n  }\n\n  return /*#__PURE__*/_react[\"default\"].createElement(_Pressable.Pressable, _extends({}, optionProps, {\n    opacity: opacity,\n    cursor: isDisabled ? _reactNative.Platform.OS === 'web' ? 'not-allowed' : null : null,\n    backgroundColor: backgroundColor,\n    ref: ref\n  }), item.rendered);\n}","map":{"version":3,"sources":["/Users/jun/Desktop/dev/react-practice/with-react-native-web-app/node_modules/native-base/lib/commonjs/components/composites/Typeahead/Typeahead.js"],"names":["Object","value","exports","_react","_interopRequireDefault","require","_button","_combobox","_combobox2","_listbox","_collections","_Box","_Pressable","_Text","_tools","_types","_Input","_hooks","_useHasResponsiveProps","obj","default","_extends","i","arguments","source","target","Typeahead","numberOfItems","rest","onSelectionChange","items","options","onInputChange","ref","item","getOptionLabel","getOptionKey","optionLabel","optionKey","textValue","key","renderItem","p","justifyContent","ComboBoxImplementation","state","triggerRef","inputRef","listBoxRef","popoverRef","buttonProps","labelProps","buttonRef","menuTrigger","toggleIconSetter","props","isOpen","flexDirection","flex","pb","InputRightElement","label","listBoxProps","autoFocus","disallowEmptySelection","position","width","maxHeight","dropdownHeight","_reactNative","keyboardShouldPersistTaps","node","searchItemStyle","isDisabled","isSelected","isFocused","optionProps","shouldFocusOnHover","shouldUseVirtualFocus","backgroundColor","opacity","cursor"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Typeahead = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _button = require(\"@react-native-aria/button\");\n\nvar _combobox = require(\"@react-stately/combobox\");\n\nvar _combobox2 = require(\"@react-native-aria/combobox\");\n\nvar _listbox = require(\"@react-native-aria/listbox\");\n\nvar _reactNative = require(\"react-native\");\n\nvar _collections = require(\"@react-stately/collections\");\n\nvar _Box = _interopRequireDefault(require(\"../../primitives/Box\"));\n\nvar _Pressable = require(\"../../primitives/Pressable\");\n\nvar _Text = _interopRequireDefault(require(\"../../primitives/Text\"));\n\nvar _tools = require(\"../../../theme/tools\");\n\nvar _types = require(\"./types\");\n\nvar _Input = require(\"../../primitives/Input\");\n\nvar _hooks = require(\"../../../hooks\");\n\nvar _useHasResponsiveProps = require(\"../../../hooks/useHasResponsiveProps\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nconst Typeahead = /*#__PURE__*/_react.default.forwardRef(({\n  onSelectedItemChange,\n  options,\n  renderItem,\n  getOptionLabel,\n  getOptionKey,\n  onChange,\n  numberOfItems,\n  ...rest\n}, ref) => {\n  //TODO: refactor for responsive prop\n  if ((0, _useHasResponsiveProps.useHasResponsiveProps)(rest)) {\n    return null;\n  }\n\n  return /*#__PURE__*/_react.default.createElement(ComboBoxImplementation, _extends({}, rest, {\n    onSelectionChange: onSelectedItemChange,\n    items: numberOfItems !== undefined ? options.slice(0, numberOfItems) : options,\n    onInputChange: onChange,\n    ref: ref\n  }), item => {\n    if (typeof item !== 'string' && getOptionLabel === undefined) {\n      throw new Error('Please use getOptionLabel prop');\n    }\n\n    if (item.id === undefined && getOptionKey === undefined) {\n      throw new Error('Please use getOptionKey prop');\n    }\n\n    const optionLabel = getOptionLabel ? getOptionLabel(item) : item;\n    const optionKey = getOptionKey ? getOptionKey(item) : item.id !== undefined ? item.id : optionLabel;\n    return /*#__PURE__*/_react.default.createElement(_collections.Item, {\n      textValue: optionLabel,\n      key: optionKey\n    }, renderItem ? renderItem(item) : /*#__PURE__*/_react.default.createElement(_Box.default, {\n      p: 2,\n      justifyContent: \"center\"\n    }, /*#__PURE__*/_react.default.createElement(_Text.default, null, optionLabel)));\n  });\n});\n\nexports.Typeahead = Typeahead;\n\nconst ComboBoxImplementation = /*#__PURE__*/_react.default.forwardRef((props, ref) => {\n  const [layoutProps] = (0, _tools.extractInObject)(props, _types.layoutPropsList);\n  let state = (0, _combobox.useComboBoxState)(props);\n\n  let triggerRef = _react.default.useRef(null);\n\n  let inputRef = _react.default.useRef(null);\n\n  let listBoxRef = _react.default.useRef(null);\n\n  let popoverRef = _react.default.useRef(null);\n\n  let {\n    buttonProps: triggerProps,\n    inputProps,\n    listBoxProps,\n    labelProps\n  } = (0, _combobox2.useComboBox)({ ...props,\n    inputRef,\n    buttonRef: triggerRef,\n    listBoxRef,\n    popoverRef,\n    menuTrigger: 'input'\n  }, state);\n\n  const toggleIconSetter = () => {\n    if (typeof props.toggleIcon === 'function') return props.toggleIcon({\n      isOpen: state.isOpen\n    });\n    return props.toggleIcon;\n  };\n\n  let {\n    buttonProps\n  } = (0, _button.useButton)(triggerProps);\n  return /*#__PURE__*/_react.default.createElement(_Box.default, _extends({\n    flexDirection: \"row\"\n  }, layoutProps, {\n    ref: ref\n  }), /*#__PURE__*/_react.default.createElement(_Box.default, {\n    flex: 1\n  }, props.label && /*#__PURE__*/_react.default.createElement(_Text.default, _extends({}, labelProps, {\n    pb: 1\n  }), props.label), /*#__PURE__*/_react.default.createElement(_Input.Input, _extends({}, inputProps, {\n    ref: inputRef,\n    InputRightElement:\n    /*#__PURE__*/\n    // @ts-ignore - RN has hitSlop type inconsistent for View and Pressable!\n    _react.default.createElement(_Pressable.Pressable, _extends({}, buttonProps, {\n      ref: triggerRef\n    }), toggleIconSetter())\n  })), state.isOpen && /*#__PURE__*/_react.default.createElement(ListBoxPopup, _extends({}, listBoxProps, {\n    listBoxRef: listBoxRef,\n    popoverRef: popoverRef,\n    state: state,\n    label: props.label\n  }))));\n});\n\nfunction ListBoxPopup(props) {\n  let {\n    popoverRef,\n    listBoxRef,\n    state,\n    dropdownHeight,\n    label\n  } = props;\n  let {\n    listBoxProps\n  } = (0, _listbox.useListBox)({\n    label,\n    autoFocus: state.focusStrategy,\n    disallowEmptySelection: true\n  }, state, listBoxRef);\n  return /*#__PURE__*/_react.default.createElement(_Box.default, {\n    ref: popoverRef\n  }, /*#__PURE__*/_react.default.createElement(_Box.default, {\n    position: \"absolute\",\n    width: \"100%\",\n    maxHeight: dropdownHeight !== null && dropdownHeight !== void 0 ? dropdownHeight : 200\n  }, /*#__PURE__*/_react.default.createElement(_reactNative.ScrollView, _extends({}, listBoxProps, {\n    keyboardShouldPersistTaps: \"handled\",\n    ref: node => {\n      if (_reactNative.Platform.OS === 'web') {\n        listBoxRef.current = (0, _reactNative.findNodeHandle)(node);\n      } else {\n        listBoxRef.current = node;\n      }\n    }\n  }), [...state.collection].map(item => /*#__PURE__*/_react.default.createElement(Option, {\n    key: item.key,\n    item: item,\n    state: state\n  })))));\n}\n\nfunction Option({\n  item,\n  state\n}) {\n  const searchItemStyle = (0, _hooks.useThemeProps)('TypeAheadSearchItem', {});\n\n  let ref = _react.default.useRef(null);\n\n  let isDisabled = state.disabledKeys.has(item.key);\n  let isSelected = state.selectionManager.isSelected(item.key);\n  let isFocused = state.selectionManager.focusedKey === item.key;\n  let {\n    optionProps\n  } = (0, _listbox.useOption)({\n    key: item.key,\n    isDisabled,\n    isSelected,\n    shouldFocusOnHover: true,\n    shouldUseVirtualFocus: true\n  }, state, ref);\n  let backgroundColor = searchItemStyle.backgroundColor;\n  let opacity = 1;\n\n  if (isSelected) {\n    backgroundColor = searchItemStyle._focus.backgroundColor;\n  } else if (isFocused) {\n    backgroundColor = searchItemStyle._focus.backgroundColor;\n  } else if (isDisabled) {\n    opacity = 0.6;\n    backgroundColor = searchItemStyle._disabled.backgroundColor;\n  }\n\n  return /*#__PURE__*/_react.default.createElement(_Pressable.Pressable, _extends({}, optionProps, {\n    opacity: opacity,\n    cursor: isDisabled ? _reactNative.Platform.OS === 'web' ? 'not-allowed' : null : null,\n    backgroundColor: backgroundColor,\n    ref: ref\n  }), item.rendered);\n}\n//# sourceMappingURL=Typeahead.js.map"]},"metadata":{},"sourceType":"script"}