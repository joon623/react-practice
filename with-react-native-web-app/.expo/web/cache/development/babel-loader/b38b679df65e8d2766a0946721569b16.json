{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = createStyleResolver;\n\nvar _ExecutionEnvironment = require(\"fbjs/lib/ExecutionEnvironment\");\n\nvar _createCSSStyleSheet = _interopRequireDefault(require(\"./createCSSStyleSheet\"));\n\nvar _createCompileableStyle = _interopRequireDefault(require(\"./createCompileableStyle\"));\n\nvar _createOrderedCSSStyleSheet = _interopRequireDefault(require(\"./createOrderedCSSStyleSheet\"));\n\nvar _flattenArray = _interopRequireDefault(require(\"../../modules/flattenArray\"));\n\nvar _flattenStyle = _interopRequireDefault(require(\"./flattenStyle\"));\n\nvar _I18nManager = _interopRequireDefault(require(\"../I18nManager\"));\n\nvar _i18nStyle = _interopRequireDefault(require(\"./i18nStyle\"));\n\nvar _compile = require(\"./compile\");\n\nvar _initialRules = _interopRequireDefault(require(\"./initialRules\"));\n\nvar _modality = _interopRequireDefault(require(\"./modality\"));\n\nvar _constants = require(\"./constants\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n/**\n * Copyright (c) Nicolas Gallagher.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\n/**\n * WARNING: changes to this file in particular can cause significant changes to\n * the results of render performance benchmarks.\n */\n\n\nfunction createStyleResolver() {\n  var inserted, sheet, cache;\n  var resolved = {\n    css: {},\n    ltr: {},\n    rtl: {},\n    rtlNoSwap: {}\n  };\n\n  var init = function init() {\n    inserted = {\n      css: {},\n      ltr: {},\n      rtl: {},\n      rtlNoSwap: {}\n    };\n    sheet = (0, _createOrderedCSSStyleSheet[\"default\"])((0, _createCSSStyleSheet[\"default\"])(_constants.STYLE_ELEMENT_ID));\n    cache = {};\n    (0, _modality[\"default\"])(function (rule) {\n      return sheet.insert(rule, _constants.STYLE_GROUPS.modality);\n    });\n\n    _initialRules[\"default\"].forEach(function (rule) {\n      sheet.insert(rule, _constants.STYLE_GROUPS.reset);\n    });\n  };\n\n  init();\n\n  function addToCache(className, prop, value) {\n    if (!cache[prop]) {\n      cache[prop] = {};\n    }\n\n    cache[prop][value] = className;\n  }\n\n  function getClassName(prop, value) {\n    var val = (0, _compile.stringifyValueWithProperty)(value, prop);\n    return cache[prop] && cache[prop].hasOwnProperty(val) && cache[prop][val];\n  }\n\n  function _injectRegisteredStyle(id) {\n    var doLeftAndRightSwapInRTL = _I18nManager[\"default\"].doLeftAndRightSwapInRTL,\n        isRTL = _I18nManager[\"default\"].isRTL;\n    var dir = isRTL ? doLeftAndRightSwapInRTL ? 'rtl' : 'rtlNoSwap' : 'ltr';\n\n    if (!inserted[dir][id]) {\n      var style = (0, _createCompileableStyle[\"default\"])((0, _i18nStyle[\"default\"])((0, _flattenStyle[\"default\"])(id)));\n      var results = (0, _compile.atomic)(style);\n      Object.keys(results).forEach(function (key) {\n        var _results$key = results[key],\n            identifier = _results$key.identifier,\n            property = _results$key.property,\n            rules = _results$key.rules,\n            value = _results$key.value;\n        addToCache(identifier, property, value);\n        rules.forEach(function (rule) {\n          var group = _constants.STYLE_GROUPS.custom[property] || _constants.STYLE_GROUPS.atomic;\n          sheet.insert(rule, group);\n        });\n      });\n      inserted[dir][id] = true;\n    }\n  }\n  /**\n   * Resolves a React Native style object to DOM attributes\n   */\n\n\n  function resolve(style, classList) {\n    var nextClassList = [];\n    var props = {};\n\n    if (!style && !classList) {\n      return props;\n    }\n\n    if (Array.isArray(classList)) {\n      (0, _flattenArray[\"default\"])(classList).forEach(function (identifier) {\n        if (identifier) {\n          if (inserted.css[identifier] == null && resolved.css[identifier] != null) {\n            var item = resolved.css[identifier];\n            item.rules.forEach(function (rule) {\n              sheet.insert(rule, item.group);\n            });\n            inserted.css[identifier] = true;\n          }\n\n          nextClassList.push(identifier);\n        }\n      });\n    }\n\n    if (typeof style === 'number') {\n      // fast and cachable\n      _injectRegisteredStyle(style);\n\n      var key = createCacheKey(style);\n      props = _resolveStyle(style, key);\n    } else if (!Array.isArray(style)) {\n      // resolve a plain RN style object\n      props = _resolveStyle(style);\n    } else {\n      // flatten the style array\n      // cache resolved props when all styles are registered\n      // otherwise fallback to resolving\n      var flatArray = (0, _flattenArray[\"default\"])(style);\n      var isArrayOfNumbers = true;\n      var cacheKey = '';\n\n      for (var i = 0; i < flatArray.length; i++) {\n        var id = flatArray[i];\n\n        if (typeof id !== 'number') {\n          isArrayOfNumbers = false;\n        } else {\n          if (isArrayOfNumbers) {\n            cacheKey += id + '-';\n          }\n\n          _injectRegisteredStyle(id);\n        }\n      }\n\n      var _key = isArrayOfNumbers ? createCacheKey(cacheKey) : null;\n\n      props = _resolveStyle(flatArray, _key);\n    }\n\n    nextClassList.push.apply(nextClassList, props.classList);\n    var finalProps = {\n      className: classListToString(nextClassList),\n      classList: nextClassList\n    };\n\n    if (props.style) {\n      finalProps.style = props.style;\n    }\n\n    return finalProps;\n  }\n  /**\n   * Resolves a React Native style object\n   */\n\n\n  function _resolveStyle(style, key) {\n    var doLeftAndRightSwapInRTL = _I18nManager[\"default\"].doLeftAndRightSwapInRTL,\n        isRTL = _I18nManager[\"default\"].isRTL;\n    var dir = isRTL ? doLeftAndRightSwapInRTL ? 'rtl' : 'rtlNoSwap' : 'ltr'; // faster: memoized\n\n    if (key != null && resolved[dir][key] != null) {\n      return resolved[dir][key];\n    }\n\n    var flatStyle = (0, _flattenStyle[\"default\"])(style);\n    var localizedStyle = (0, _createCompileableStyle[\"default\"])((0, _i18nStyle[\"default\"])(flatStyle)); // slower: convert style object to props and cache\n\n    var props = Object.keys(localizedStyle).sort().reduce(function (props, styleProp) {\n      var value = localizedStyle[styleProp];\n\n      if (value != null) {\n        var className = getClassName(styleProp, value);\n\n        if (className) {\n          props.classList.push(className);\n        } else {\n          // Certain properties and values are not transformed by 'createReactDOMStyle' as they\n          // require more complex transforms into multiple CSS rules. Here we assume that StyleManager\n          // can bind these styles to a className, and prevent them becoming invalid inline-styles.\n          if (styleProp === 'animationKeyframes' || styleProp === 'placeholderTextColor' || styleProp === 'pointerEvents' || styleProp === 'scrollbarWidth') {\n            var _atomic;\n\n            var a = (0, _compile.atomic)((_atomic = {}, _atomic[styleProp] = value, _atomic));\n            Object.keys(a).forEach(function (key) {\n              var _a$key = a[key],\n                  identifier = _a$key.identifier,\n                  rules = _a$key.rules;\n              props.classList.push(identifier);\n              rules.forEach(function (rule) {\n                sheet.insert(rule, _constants.STYLE_GROUPS.atomic);\n              });\n            });\n          } else {\n            if (!props.style) {\n              props.style = {};\n            } // 4x slower render\n\n\n            props.style[styleProp] = value;\n          }\n        }\n      }\n\n      return props;\n    }, {\n      classList: []\n    });\n\n    if (props.style) {\n      props.style = (0, _compile.inline)(props.style);\n    }\n\n    if (key != null) {\n      resolved[dir][key] = props;\n    }\n\n    return props;\n  }\n\n  return {\n    getStyleSheet: function getStyleSheet() {\n      var textContent = sheet.getTextContent(); // Reset state on the server so critical css is always the result\n\n      if (!_ExecutionEnvironment.canUseDOM) {\n        init();\n      }\n\n      return {\n        id: _constants.STYLE_ELEMENT_ID,\n        textContent: textContent\n      };\n    },\n    createCSS: function createCSS(rules, group) {\n      var result = {};\n      Object.keys(rules).forEach(function (name) {\n        var style = rules[name];\n        var compiled = (0, _compile.classic)(style, name);\n        Object.keys(compiled).forEach(function (key) {\n          var _compiled$key = compiled[key],\n              identifier = _compiled$key.identifier,\n              rules = _compiled$key.rules;\n          resolved.css[identifier] = {\n            group: group || _constants.STYLE_GROUPS.classic,\n            rules: rules\n          };\n          result[name] = identifier;\n        });\n      });\n      return result;\n    },\n    resolve: resolve,\n    sheet: sheet\n  };\n}\n/**\n * Misc helpers\n */\n\n\nvar createCacheKey = function createCacheKey(id) {\n  var prefix = 'rn';\n  return prefix + \"-\" + id;\n};\n\nvar classListToString = function classListToString(list) {\n  return list.join(' ').trim();\n};\n\nmodule.exports = exports[\"default\"];\n; // Wrapped in an IIFE to avoid polluting the global scope\n\n;\n\n(function () {\n  var _a, _b; // Legacy CSS implementations will `eval` browser code in a Node.js context\n  // to extract CSS. For backwards compatibility, we need to check we're in a\n  // browser context before continuing.\n\n\n  if (typeof self !== 'undefined' && // AMP / No-JS mode does not inject these helpers:\n  '$RefreshHelpers$' in self) {\n    // @ts-ignore __webpack_module__ is global\n    var currentExports = __webpack_module__.exports; // @ts-ignore __webpack_module__ is global\n\n    var prevExports = (_b = (_a = __webpack_module__.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null; // This cannot happen in MainTemplate because the exports mismatch between\n    // templating and execution.\n\n    self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, __webpack_module__.id); // A module can be accepted automatically based on its exports, e.g. when\n    // it is a Refresh Boundary.\n\n    if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n      // Save the previous exports on update so we can compare the boundary\n      // signatures.\n      __webpack_module__.hot.dispose(function (data) {\n        data.prevExports = currentExports;\n      }); // Unconditionally accept an update to this module, we'll check if it's\n      // still a Refresh Boundary later.\n      // @ts-ignore importMeta is replaced in the loader\n\n\n      import.meta.webpackHot.accept(); // This field is set when the previous version of this module was a\n      // Refresh Boundary, letting us know we need to check for invalidation or\n      // enqueue an update.\n\n      if (prevExports !== null) {\n        // A boundary can become ineligible if its exports are incompatible\n        // with the previous exports.\n        //\n        // For example, if you add/remove/change exports, we'll want to\n        // re-execute the importing modules, and force those components to\n        // re-render. Similarly, if you convert a class component to a\n        // function, we want to invalidate the boundary.\n        if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n          __webpack_module__.hot.invalidate();\n        } else {\n          self.$RefreshHelpers$.scheduleUpdate();\n        }\n      }\n    } else {\n      // Since we just executed the code for the module, it's possible that the\n      // new exports made it ineligible for being a boundary.\n      // We only care about the case when we were _previously_ a boundary,\n      // because we already accepted this update (accidental side effect).\n      var isNoLongerABoundary = prevExports !== null;\n\n      if (isNoLongerABoundary) {\n        __webpack_module__.hot.invalidate();\n      }\n    }\n  }\n})();","map":{"version":3,"sources":["/Users/jun/Desktop/dev/react-practice/with-react-native-web-app/node_modules/react-native-web/dist/cjs/exports/StyleSheet/createStyleResolver.js"],"names":["exports","_ExecutionEnvironment","require","_createCSSStyleSheet","_interopRequireDefault","_createCompileableStyle","_createOrderedCSSStyleSheet","_flattenArray","_flattenStyle","_I18nManager","_i18nStyle","_compile","_initialRules","_modality","_constants","obj","resolved","css","ltr","rtl","rtlNoSwap","init","inserted","sheet","cache","val","doLeftAndRightSwapInRTL","isRTL","dir","style","results","Object","_results$key","identifier","property","rules","value","addToCache","group","nextClassList","props","Array","item","_injectRegisteredStyle","key","createCacheKey","_resolveStyle","flatArray","isArrayOfNumbers","cacheKey","i","id","_key","finalProps","className","classListToString","classList","flatStyle","localizedStyle","getClassName","styleProp","a","_atomic","_a$key","getStyleSheet","textContent","createCSS","result","compiled","_compiled$key","resolve","prefix","list","module"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = createStyleResolver;\n\nvar _ExecutionEnvironment = require(\"fbjs/lib/ExecutionEnvironment\");\n\nvar _createCSSStyleSheet = _interopRequireDefault(require(\"./createCSSStyleSheet\"));\n\nvar _createCompileableStyle = _interopRequireDefault(require(\"./createCompileableStyle\"));\n\nvar _createOrderedCSSStyleSheet = _interopRequireDefault(require(\"./createOrderedCSSStyleSheet\"));\n\nvar _flattenArray = _interopRequireDefault(require(\"../../modules/flattenArray\"));\n\nvar _flattenStyle = _interopRequireDefault(require(\"./flattenStyle\"));\n\nvar _I18nManager = _interopRequireDefault(require(\"../I18nManager\"));\n\nvar _i18nStyle = _interopRequireDefault(require(\"./i18nStyle\"));\n\nvar _compile = require(\"./compile\");\n\nvar _initialRules = _interopRequireDefault(require(\"./initialRules\"));\n\nvar _modality = _interopRequireDefault(require(\"./modality\"));\n\nvar _constants = require(\"./constants\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Copyright (c) Nicolas Gallagher.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\n/**\n * WARNING: changes to this file in particular can cause significant changes to\n * the results of render performance benchmarks.\n */\nfunction createStyleResolver() {\n  var inserted, sheet, cache;\n  var resolved = {\n    css: {},\n    ltr: {},\n    rtl: {},\n    rtlNoSwap: {}\n  };\n\n  var init = function init() {\n    inserted = {\n      css: {},\n      ltr: {},\n      rtl: {},\n      rtlNoSwap: {}\n    };\n    sheet = (0, _createOrderedCSSStyleSheet.default)((0, _createCSSStyleSheet.default)(_constants.STYLE_ELEMENT_ID));\n    cache = {};\n    (0, _modality.default)(function (rule) {\n      return sheet.insert(rule, _constants.STYLE_GROUPS.modality);\n    });\n\n    _initialRules.default.forEach(function (rule) {\n      sheet.insert(rule, _constants.STYLE_GROUPS.reset);\n    });\n  };\n\n  init();\n\n  function addToCache(className, prop, value) {\n    if (!cache[prop]) {\n      cache[prop] = {};\n    }\n\n    cache[prop][value] = className;\n  }\n\n  function getClassName(prop, value) {\n    var val = (0, _compile.stringifyValueWithProperty)(value, prop);\n    return cache[prop] && cache[prop].hasOwnProperty(val) && cache[prop][val];\n  }\n\n  function _injectRegisteredStyle(id) {\n    var doLeftAndRightSwapInRTL = _I18nManager.default.doLeftAndRightSwapInRTL,\n        isRTL = _I18nManager.default.isRTL;\n    var dir = isRTL ? doLeftAndRightSwapInRTL ? 'rtl' : 'rtlNoSwap' : 'ltr';\n\n    if (!inserted[dir][id]) {\n      var style = (0, _createCompileableStyle.default)((0, _i18nStyle.default)((0, _flattenStyle.default)(id)));\n      var results = (0, _compile.atomic)(style);\n      Object.keys(results).forEach(function (key) {\n        var _results$key = results[key],\n            identifier = _results$key.identifier,\n            property = _results$key.property,\n            rules = _results$key.rules,\n            value = _results$key.value;\n        addToCache(identifier, property, value);\n        rules.forEach(function (rule) {\n          var group = _constants.STYLE_GROUPS.custom[property] || _constants.STYLE_GROUPS.atomic;\n          sheet.insert(rule, group);\n        });\n      });\n      inserted[dir][id] = true;\n    }\n  }\n  /**\n   * Resolves a React Native style object to DOM attributes\n   */\n\n\n  function resolve(style, classList) {\n    var nextClassList = [];\n    var props = {};\n\n    if (!style && !classList) {\n      return props;\n    }\n\n    if (Array.isArray(classList)) {\n      (0, _flattenArray.default)(classList).forEach(function (identifier) {\n        if (identifier) {\n          if (inserted.css[identifier] == null && resolved.css[identifier] != null) {\n            var item = resolved.css[identifier];\n            item.rules.forEach(function (rule) {\n              sheet.insert(rule, item.group);\n            });\n            inserted.css[identifier] = true;\n          }\n\n          nextClassList.push(identifier);\n        }\n      });\n    }\n\n    if (typeof style === 'number') {\n      // fast and cachable\n      _injectRegisteredStyle(style);\n\n      var key = createCacheKey(style);\n      props = _resolveStyle(style, key);\n    } else if (!Array.isArray(style)) {\n      // resolve a plain RN style object\n      props = _resolveStyle(style);\n    } else {\n      // flatten the style array\n      // cache resolved props when all styles are registered\n      // otherwise fallback to resolving\n      var flatArray = (0, _flattenArray.default)(style);\n      var isArrayOfNumbers = true;\n      var cacheKey = '';\n\n      for (var i = 0; i < flatArray.length; i++) {\n        var id = flatArray[i];\n\n        if (typeof id !== 'number') {\n          isArrayOfNumbers = false;\n        } else {\n          if (isArrayOfNumbers) {\n            cacheKey += id + '-';\n          }\n\n          _injectRegisteredStyle(id);\n        }\n      }\n\n      var _key = isArrayOfNumbers ? createCacheKey(cacheKey) : null;\n\n      props = _resolveStyle(flatArray, _key);\n    }\n\n    nextClassList.push.apply(nextClassList, props.classList);\n    var finalProps = {\n      className: classListToString(nextClassList),\n      classList: nextClassList\n    };\n\n    if (props.style) {\n      finalProps.style = props.style;\n    }\n\n    return finalProps;\n  }\n  /**\n   * Resolves a React Native style object\n   */\n\n\n  function _resolveStyle(style, key) {\n    var doLeftAndRightSwapInRTL = _I18nManager.default.doLeftAndRightSwapInRTL,\n        isRTL = _I18nManager.default.isRTL;\n    var dir = isRTL ? doLeftAndRightSwapInRTL ? 'rtl' : 'rtlNoSwap' : 'ltr'; // faster: memoized\n\n    if (key != null && resolved[dir][key] != null) {\n      return resolved[dir][key];\n    }\n\n    var flatStyle = (0, _flattenStyle.default)(style);\n    var localizedStyle = (0, _createCompileableStyle.default)((0, _i18nStyle.default)(flatStyle)); // slower: convert style object to props and cache\n\n    var props = Object.keys(localizedStyle).sort().reduce(function (props, styleProp) {\n      var value = localizedStyle[styleProp];\n\n      if (value != null) {\n        var className = getClassName(styleProp, value);\n\n        if (className) {\n          props.classList.push(className);\n        } else {\n          // Certain properties and values are not transformed by 'createReactDOMStyle' as they\n          // require more complex transforms into multiple CSS rules. Here we assume that StyleManager\n          // can bind these styles to a className, and prevent them becoming invalid inline-styles.\n          if (styleProp === 'animationKeyframes' || styleProp === 'placeholderTextColor' || styleProp === 'pointerEvents' || styleProp === 'scrollbarWidth') {\n            var _atomic;\n\n            var a = (0, _compile.atomic)((_atomic = {}, _atomic[styleProp] = value, _atomic));\n            Object.keys(a).forEach(function (key) {\n              var _a$key = a[key],\n                  identifier = _a$key.identifier,\n                  rules = _a$key.rules;\n              props.classList.push(identifier);\n              rules.forEach(function (rule) {\n                sheet.insert(rule, _constants.STYLE_GROUPS.atomic);\n              });\n            });\n          } else {\n            if (!props.style) {\n              props.style = {};\n            } // 4x slower render\n\n\n            props.style[styleProp] = value;\n          }\n        }\n      }\n\n      return props;\n    }, {\n      classList: []\n    });\n\n    if (props.style) {\n      props.style = (0, _compile.inline)(props.style);\n    }\n\n    if (key != null) {\n      resolved[dir][key] = props;\n    }\n\n    return props;\n  }\n\n  return {\n    getStyleSheet: function getStyleSheet() {\n      var textContent = sheet.getTextContent(); // Reset state on the server so critical css is always the result\n\n      if (!_ExecutionEnvironment.canUseDOM) {\n        init();\n      }\n\n      return {\n        id: _constants.STYLE_ELEMENT_ID,\n        textContent: textContent\n      };\n    },\n    createCSS: function createCSS(rules, group) {\n      var result = {};\n      Object.keys(rules).forEach(function (name) {\n        var style = rules[name];\n        var compiled = (0, _compile.classic)(style, name);\n        Object.keys(compiled).forEach(function (key) {\n          var _compiled$key = compiled[key],\n              identifier = _compiled$key.identifier,\n              rules = _compiled$key.rules;\n          resolved.css[identifier] = {\n            group: group || _constants.STYLE_GROUPS.classic,\n            rules: rules\n          };\n          result[name] = identifier;\n        });\n      });\n      return result;\n    },\n    resolve: resolve,\n    sheet: sheet\n  };\n}\n/**\n * Misc helpers\n */\n\n\nvar createCacheKey = function createCacheKey(id) {\n  var prefix = 'rn';\n  return prefix + \"-\" + id;\n};\n\nvar classListToString = function classListToString(list) {\n  return list.join(' ').trim();\n};\n\nmodule.exports = exports.default;"]},"metadata":{},"sourceType":"module"}